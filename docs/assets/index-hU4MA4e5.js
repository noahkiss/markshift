var wi=Object.defineProperty;var Si=(r,t,e)=>t in r?wi(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var y=(r,t,e)=>Si(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function Ri(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}return r}function zt(r,t){return Array(t+1).join(r)}function qr(r){return r.replace(/^\n*/,"")}function Xr(r){for(var t=r.length;t>0&&r[t-1]===`
`;)t--;return r.substring(0,t)}function jr(r){return Xr(qr(r))}var Li=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Yt(r){return Zt(r,Li)}var Vr=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Yr(r){return Zt(r,Vr)}function Ci(r){return Kr(r,Vr)}var Zr=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Di(r){return Zt(r,Zr)}function Ii(r){return Kr(r,Zr)}function Zt(r,t){return t.indexOf(r.nodeName)>=0}function Kr(r,t){return r.getElementsByTagName&&t.some(function(e){return r.getElementsByTagName(e).length})}var F={};F.paragraph={filter:"p",replacement:function(r){return`

`+r+`

`}};F.lineBreak={filter:"br",replacement:function(r,t,e){return e.br+`
`}};F.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(r,t,e){var n=Number(t.nodeName.charAt(1));if(e.headingStyle==="setext"&&n<3){var i=zt(n===1?"=":"-",r.length);return`

`+r+`
`+i+`

`}else return`

`+zt("#",n)+" "+r+`

`}};F.blockquote={filter:"blockquote",replacement:function(r){return r=jr(r).replace(/^/gm,"> "),`

`+r+`

`}};F.list={filter:["ul","ol"],replacement:function(r,t){var e=t.parentNode;return e.nodeName==="LI"&&e.lastElementChild===t?`
`+r:`

`+r+`

`}};F.listItem={filter:"li",replacement:function(r,t,e){var n=e.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),a=Array.prototype.indexOf.call(i.children,t);n=(s?Number(s)+a:a+1)+".  "}var o=/\n$/.test(r);return r=jr(r)+(o?`
`:""),r=r.replace(/\n/gm,`
`+" ".repeat(n.length)),n+r+(t.nextSibling?`
`:"")}};F.indentedCodeBlock={filter:function(r,t){return t.codeBlockStyle==="indented"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,t,e){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};F.fencedCodeBlock={filter:function(r,t){return t.codeBlockStyle==="fenced"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,t,e){for(var n=t.firstChild.getAttribute("class")||"",i=(n.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,a=e.fence.charAt(0),o=3,l=new RegExp("^"+a+"{3,}","gm"),u;u=l.exec(s);)u[0].length>=o&&(o=u[0].length+1);var h=zt(a,o);return`

`+h+i+`
`+s.replace(/\n$/,"")+`
`+h+`

`}};F.horizontalRule={filter:"hr",replacement:function(r,t,e){return`

`+e.hr+`

`}};F.inlineLink={filter:function(r,t){return t.linkStyle==="inlined"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,t){var e=t.getAttribute("href");e&&(e=e.replace(/([()])/g,"\\$1"));var n=pt(t.getAttribute("title"));return n&&(n=' "'+n.replace(/"/g,'\\"')+'"'),"["+r+"]("+e+n+")"}};F.referenceLink={filter:function(r,t){return t.linkStyle==="referenced"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,t,e){var n=t.getAttribute("href"),i=pt(t.getAttribute("title"));i&&(i=' "'+i+'"');var s,a;switch(e.linkReferenceStyle){case"collapsed":s="["+r+"][]",a="["+r+"]: "+n+i;break;case"shortcut":s="["+r+"]",a="["+r+"]: "+n+i;break;default:var o=this.references.length+1;s="["+r+"]["+o+"]",a="["+o+"]: "+n+i}return this.references.push(a),s},references:[],append:function(r){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};F.emphasis={filter:["em","i"],replacement:function(r,t,e){return r.trim()?e.emDelimiter+r+e.emDelimiter:""}};F.strong={filter:["strong","b"],replacement:function(r,t,e){return r.trim()?e.strongDelimiter+r+e.strongDelimiter:""}};F.code={filter:function(r){var t=r.previousSibling||r.nextSibling,e=r.parentNode.nodeName==="PRE"&&!t;return r.nodeName==="CODE"&&!e},replacement:function(r){if(!r)return"";r=r.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(r)?" ":"",e="`",n=r.match(/`+/gm)||[];n.indexOf(e)!==-1;)e=e+"`";return e+t+r+t+e}};F.image={filter:"img",replacement:function(r,t){var e=pt(t.getAttribute("alt")),n=t.getAttribute("src")||"",i=pt(t.getAttribute("title")),s=i?' "'+i+'"':"";return n?"!["+e+"]("+n+s+")":""}};function pt(r){return r?r.replace(/(\n+\s*)+/g,`
`):""}function Qr(r){this.options=r,this._keep=[],this._remove=[],this.blankRule={replacement:r.blankReplacement},this.keepReplacement=r.keepReplacement,this.defaultRule={replacement:r.defaultReplacement},this.array=[];for(var t in r.rules)this.array.push(r.rules[t])}Qr.prototype={add:function(r,t){this.array.unshift(t)},keep:function(r){this._keep.unshift({filter:r,replacement:this.keepReplacement})},remove:function(r){this._remove.unshift({filter:r,replacement:function(){return""}})},forNode:function(r){if(r.isBlank)return this.blankRule;var t;return(t=Rt(this.array,r,this.options))||(t=Rt(this._keep,r,this.options))||(t=Rt(this._remove,r,this.options))?t:this.defaultRule},forEach:function(r){for(var t=0;t<this.array.length;t++)r(this.array[t],t)}};function Rt(r,t,e){for(var n=0;n<r.length;n++){var i=r[n];if(Pi(i,t,e))return i}}function Pi(r,t,e){var n=r.filter;if(typeof n=="string"){if(n===t.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof n=="function"){if(n.call(r,t,e))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Oi(r){var t=r.element,e=r.isBlock,n=r.isVoid,i=r.isPre||function(f){return f.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var s=null,a=!1,o=null,l=xr(o,t,i);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!a&&u[0]===" "&&(u=u.substr(1)),!u){l=Lt(l);continue}l.data=u,s=l}else if(l.nodeType===1)e(l)||l.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,a=!1):n(l)||i(l)?(s=null,a=!0):s&&(a=!1);else{l=Lt(l);continue}var h=xr(o,l,i);o=l,l=h}s&&(s.data=s.data.replace(/ $/,""),s.data||Lt(s))}}function Lt(r){var t=r.nextSibling||r.parentNode;return r.parentNode.removeChild(r),t}function xr(r,t,e){return r&&r.parentNode===t||e(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var Kt=typeof window<"u"?window:{};function Mi(){var r=Kt.DOMParser,t=!1;try{new r().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Bi(){var r=function(){};return $i()?r.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:r.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e},r}function $i(){var r=!1;try{document.implementation.createHTMLDocument("").open()}catch{Kt.ActiveXObject&&(r=!0)}return r}var Hi=Mi()?Kt.DOMParser:Bi();function Ui(r,t){var e;if(typeof r=="string"){var n=Fi().parseFromString('<x-turndown id="turndown-root">'+r+"</x-turndown>","text/html");e=n.getElementById("turndown-root")}else e=r.cloneNode(!0);return Oi({element:e,isBlock:Yt,isVoid:Yr,isPre:t.preformattedCode?zi:null}),e}var Ct;function Fi(){return Ct=Ct||new Hi,Ct}function zi(r){return r.nodeName==="PRE"||r.nodeName==="CODE"}function Gi(r,t){return r.isBlock=Yt(r),r.isCode=r.nodeName==="CODE"||r.parentNode.isCode,r.isBlank=Wi(r),r.flankingWhitespace=qi(r,t),r}function Wi(r){return!Yr(r)&&!Di(r)&&/^\s*$/i.test(r.textContent)&&!Ci(r)&&!Ii(r)}function qi(r,t){if(r.isBlock||t.preformattedCode&&r.isCode)return{leading:"",trailing:""};var e=Xi(r.textContent);return e.leadingAscii&&vr("left",r,t)&&(e.leading=e.leadingNonAscii),e.trailingAscii&&vr("right",r,t)&&(e.trailing=e.trailingNonAscii),{leading:e.leading,trailing:e.trailing}}function Xi(r){var t=r.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function vr(r,t,e){var n,i,s;return r==="left"?(n=t.previousSibling,i=/ $/):(n=t.nextSibling,i=/^ /),n&&(n.nodeType===3?s=i.test(n.nodeValue):e.preformattedCode&&n.nodeName==="CODE"?s=!1:n.nodeType===1&&!Yt(n)&&(s=i.test(n.textContent))),s}var ji=Array.prototype.reduce,Vi=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function gt(r){if(!(this instanceof gt))return new gt(r);var t={rules:F,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,n){return n.isBlock?`

`:""},keepReplacement:function(e,n){return n.isBlock?`

`+n.outerHTML+`

`:n.outerHTML},defaultReplacement:function(e,n){return n.isBlock?`

`+e+`

`:e}};this.options=Ri({},t,r),this.rules=new Qr(this.options)}gt.prototype={turndown:function(r){if(!Ki(r))throw new TypeError(r+" is not a string, or an element/document/fragment node.");if(r==="")return"";var t=Jr.call(this,new Ui(r,this.options));return Yi.call(this,t)},use:function(r){if(Array.isArray(r))for(var t=0;t<r.length;t++)this.use(r[t]);else if(typeof r=="function")r(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(r,t){return this.rules.add(r,t),this},keep:function(r){return this.rules.keep(r),this},remove:function(r){return this.rules.remove(r),this},escape:function(r){return Vi.reduce(function(t,e){return t.replace(e[0],e[1])},r)}};function Jr(r){var t=this;return ji.call(r.childNodes,function(e,n){n=new Gi(n,t.options);var i="";return n.nodeType===3?i=n.isCode?n.nodeValue:t.escape(n.nodeValue):n.nodeType===1&&(i=Zi.call(t,n)),ei(e,i)},"")}function Yi(r){var t=this;return this.rules.forEach(function(e){typeof e.append=="function"&&(r=ei(r,e.append(t.options)))}),r.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Zi(r){var t=this.rules.forNode(r),e=Jr.call(this,r),n=r.flankingWhitespace;return(n.leading||n.trailing)&&(e=e.trim()),n.leading+t.replacement(e,r,this.options)+n.trailing}function ei(r,t){var e=Xr(r),n=qr(t),i=Math.max(r.length-e.length,t.length-n.length),s=`

`.substring(0,i);return e+s+n}function Ki(r){return r!=null&&(typeof r=="string"||r.nodeType&&(r.nodeType===1||r.nodeType===9||r.nodeType===11))}var Nr=/highlight-(?:(?:text|source)-)?([a-z0-9]+)/;function Qi(r){r.addRule("highlightedCodeBlock",{filter:function(t){var e=t.firstChild;return t.nodeName==="DIV"&&Nr.test(t.className)&&e&&e.nodeName==="PRE"},replacement:function(t,e,n){var i=e.className||"",s=(i.match(Nr)||[null,""])[1];return`

`+n.fence+s+`
`+e.firstChild.textContent+`
`+n.fence+`

`}})}function Ji(r){r.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~~"+t+"~~"}})}var Te={};function en(r){if(!r)return"   ";let t=r.trim().replace(/\s+/g," ").replace(/\|/g,"\\|").replace(/\\/g,"\\\\").replace(/\n+/g," ").replace(/\r+/g," ");return!t||t.match(/^\s*$/)?"   ":(t.length<3&&(t+=" ".repeat(3-t.length)),t)}function tn(r,t,e){e===null&&t&&t.parentNode&&(e=Array.prototype.indexOf.call(t.parentNode.childNodes,t)),e===null&&(e=0);var n=" ";e===0&&(n="| ");let i=en(r),s=1;t&&t.getAttribute&&(s=parseInt(t.getAttribute("colspan")||"1",10),(isNaN(s)||s<1)&&(s=1));let a=n+i+" |";for(let o=1;o<s;o++)a+="   |";return a}function rn(r){if(!r||!r.parentNode)return!1;var t=r.parentNode;if(t.nodeName==="THEAD")return!0;if(t.firstChild===r&&(t.nodeName==="TABLE"||t.nodeName==="TBODY")){var e=Array.prototype.filter.call(r.childNodes,function(n){return n.nodeType===1});return e.length===0?!1:Array.prototype.every.call(e,function(n){return n.nodeName==="TH"})}return!1}function nn(r){if(!r||!r.rows)return 0;let t=0;for(let e=0;e<r.rows.length;e++){const n=r.rows[e];if(!n||!n.childNodes)continue;let i=0;for(let s=0;s<n.childNodes.length;s++){const a=n.childNodes[s];if(a.nodeType===1&&(a.nodeName==="TD"||a.nodeName==="TH")){const o=parseInt(a.getAttribute("colspan")||"1",10);i+=isNaN(o)?1:Math.max(1,o)}}i>t&&(t=i)}return t}function sn(r){if(!r||!r.rows||r.rows.length===0)return!0;let t=0,e=0;for(let n=0;n<r.rows.length;n++){const i=r.rows[n];if(!(!i||!i.childNodes))for(let s=0;s<i.childNodes.length;s++){const a=i.childNodes[s];a.nodeType===1&&(a.nodeName==="TD"||a.nodeName==="TH")&&(e++,a.textContent&&a.textContent.trim()&&t++)}}return e===0||e===1&&t===0}Te.tableCell={filter:["th","td"],replacement:function(r,t){return tn(r,t,null)}};Te.tableRow={filter:"tr",replacement:function(r,t){if(!r||!r.trim())return"";var e="";if(rn(t)){const i=t.closest("table");if(i){const s=nn(i);if(s>0)for(var n=0;n<s;n++)e+=(n===0?"| ":" ")+"--- |"}}return`
`+r+(e?`
`+e:"")}};Te.table={filter:"table",replacement:function(r,t){if(sn(t)||(r=r.replace(/\n+/g,`
`).trim(),!r))return"";const e=r.split(`
`).filter(s=>s.trim());if(e.length===0)return"";const n=e.length>=2&&/\|\s*-+/.test(e[1]);let i=e.join(`
`);if(!n&&e.length>=1){const a=(e[0].match(/\|/g)||[]).length-1;if(a>0){let o="|";for(let u=0;u<a;u++)o+=" --- |";i=[e[0],o,...e.slice(1)].join(`
`)}}return`

`+i+`

`}};Te.tableSection={filter:["thead","tbody","tfoot"],replacement:function(r){return r}};Te.tableCaption={filter:["caption"],replacement:function(){return""}};Te.tableColgroup={filter:["colgroup","col"],replacement:function(){return""}};function an(r){for(var t in Te)r.addRule(t,Te[t])}function ln(r){r.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}})}function on(r){r.use([Qi,Ji,an,ln])}const cn=[/\blang(?:uage)?-([a-z0-9_+-]+)\b/i,/\bhighlight-source-([a-z0-9_+-]+)\b/i,/\bhljs\s+([a-z0-9_+-]+)\b/i,/\bsourceCode\s+([a-z0-9_+-]+)\b/i];function un(r){const t=[r,r.parentElement].filter(e=>e!==null);for(const e of t){const n=e.className||"";for(const i of cn){const s=n.match(i);if(s?.[1])return s[1].toLowerCase()}}return""}function hn(r){r.addRule("fencedCodeBlockWithLanguage",{filter:(t,e)=>e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild!==null&&t.firstChild.nodeName==="CODE",replacement:(t,e,n)=>{const i=e.firstChild,s=un(i),a=n.fence||"```",o=i.textContent||"";return`

${a}${s}
${o}
${a}

`}})}function fn(r){if(r.nodeName!=="DIV")return!1;if(r.getAttribute("role")==="table"||r.getAttribute("data-table")!==null)return!0;const t=r.getAttribute("style");return!!(t&&t.includes("display:")&&t.includes("table"))}function pn(r){const t=Array.from(r.querySelectorAll('[role="row"]'));if(t.length>0)return t;const e=Array.from(r.querySelectorAll("[data-row]"));return e.length>0?e:[]}function gn(r){const t=['[role="cell"]','[role="columnheader"]','[role="rowheader"]',"[data-cell]"];for(const e of t){const n=Array.from(r.querySelectorAll(e));if(n.length>0)return n}return Array.from(r.children).filter(e=>e.nodeName==="DIV"||e.nodeName==="SPAN"||e.getAttribute("role")==="cell"||e.getAttribute("role")==="columnheader")}function mn(r){return(r.textContent||"").trim().replace(/\|/g,"\\|")}function dn(r){r.addRule("semanticTable",{filter:t=>fn(t),replacement:(t,e)=>{const i=pn(e);if(i.length<2)return t;const s=[];for(const u of i){const f=gn(u).map(mn);f.length>0&&s.push(f)}if(s.length<2)return t;const a=s[0],o=a.length,l=[];l.push("| "+a.join(" | ")+" |"),l.push("| "+Array(o).fill("---").join(" | ")+" |");for(let u=1;u<s.length;u++){const h=s[u];for(;h.length<o;)h.push("");l.push("| "+h.join(" | ")+" |")}return`

`+l.join(`
`)+`

`}})}class bn{constructor(){y(this,"sourceFormat","html");y(this,"targetFormat","markdown");y(this,"turndown");this.turndown=new gt({headingStyle:"atx",codeBlockStyle:"fenced",fence:"```",emDelimiter:"_",strongDelimiter:"**",bulletListMarker:"-",linkStyle:"inlined"}),this.turndown.use(on),hn(this.turndown),dn(this.turndown)}convert(t,e){const n=performance.now(),i=this.turndown.turndown(t),s=performance.now()-n;return{content:i,metadata:{sourceFormat:this.sourceFormat,targetFormat:this.targetFormat,processingTimeMs:s}}}}function Qt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Se=Qt();function ti(r){Se=r}var tt={exec:()=>null};function x(r,t=""){let e=typeof r=="string"?r:r.source,n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(q.caret,"$1"),e=e.replace(i,a),n},getRegex:()=>new RegExp(e,t)};return n}var _n=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),q={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Tn=/^(?:[ \t]*(?:\n|$))+/,En=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,kn=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,rt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,yn=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Jt=/(?:[*+-]|\d{1,9}[.)])/,ri=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ii=x(ri).replace(/bull/g,Jt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),An=x(ri).replace(/bull/g,Jt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),er=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,xn=/^[^\n]+/,tr=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,vn=x(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",tr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Nn=x(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Jt).getRegex(),_t="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,wn=x("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",rr).replace("tag",_t).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ni=x(er).replace("hr",rt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex(),Sn=x(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ni).getRegex(),ir={blockquote:Sn,code:En,def:vn,fences:kn,heading:yn,hr:rt,html:wn,lheading:ii,list:Nn,newline:Tn,paragraph:ni,table:tt,text:xn},wr=x("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",rt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex(),Rn={...ir,lheading:An,table:wr,paragraph:x(er).replace("hr",rt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",wr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex()},Ln={...ir,html:x(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",rr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:x(er).replace("hr",rt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ii).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Cn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Dn=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,si=/^( {2,}|\\)\n(?!\s*$)/,In=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Tt=/[\p{P}\p{S}]/u,nr=/[\s\p{P}\p{S}]/u,ai=/[^\s\p{P}\p{S}]/u,Pn=x(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,nr).getRegex(),li=/(?!~)[\p{P}\p{S}]/u,On=/(?!~)[\s\p{P}\p{S}]/u,Mn=/(?:[^\s\p{P}\p{S}]|~)/u,Bn=x(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",_n?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),oi=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$n=x(oi,"u").replace(/punct/g,Tt).getRegex(),Hn=x(oi,"u").replace(/punct/g,li).getRegex(),ci="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Un=x(ci,"gu").replace(/notPunctSpace/g,ai).replace(/punctSpace/g,nr).replace(/punct/g,Tt).getRegex(),Fn=x(ci,"gu").replace(/notPunctSpace/g,Mn).replace(/punctSpace/g,On).replace(/punct/g,li).getRegex(),zn=x("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ai).replace(/punctSpace/g,nr).replace(/punct/g,Tt).getRegex(),Gn=x(/\\(punct)/,"gu").replace(/punct/g,Tt).getRegex(),Wn=x(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),qn=x(rr).replace("(?:-->|$)","-->").getRegex(),Xn=x("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",qn).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),mt=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,jn=x(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",mt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ui=x(/^!?\[(label)\]\[(ref)\]/).replace("label",mt).replace("ref",tr).getRegex(),hi=x(/^!?\[(ref)\](?:\[\])?/).replace("ref",tr).getRegex(),Vn=x("reflink|nolink(?!\\()","g").replace("reflink",ui).replace("nolink",hi).getRegex(),Sr=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,sr={_backpedal:tt,anyPunctuation:Gn,autolink:Wn,blockSkip:Bn,br:si,code:Dn,del:tt,emStrongLDelim:$n,emStrongRDelimAst:Un,emStrongRDelimUnd:zn,escape:Cn,link:jn,nolink:hi,punctuation:Pn,reflink:ui,reflinkSearch:Vn,tag:Xn,text:In,url:tt},Yn={...sr,link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",mt).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mt).getRegex()},Gt={...sr,emStrongRDelimAst:Fn,emStrongLDelim:Hn,url:x(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Sr).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:x(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Sr).getRegex()},Zn={...Gt,br:x(si).replace("{2,}","*").getRegex(),text:x(Gt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ot={normal:ir,gfm:Rn,pedantic:Ln},je={normal:sr,gfm:Gt,breaks:Zn,pedantic:Yn},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rr=r=>Kn[r];function be(r,t){if(t){if(q.escapeTest.test(r))return r.replace(q.escapeReplace,Rr)}else if(q.escapeTestNoEncode.test(r))return r.replace(q.escapeReplaceNoEncode,Rr);return r}function Lr(r){try{r=encodeURI(r).replace(q.percentDecode,"%")}catch{return null}return r}function Cr(r,t){let e=r.replace(q.findPipe,(s,a,o)=>{let l=!1,u=a;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=e.split(q.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(q.slashPipe,"|");return n}function Ve(r,t,e){let n=r.length;if(n===0)return"";let i=0;for(;i<n&&r.charAt(n-i-1)===t;)i++;return r.slice(0,n-i)}function Qn(r,t){if(r.indexOf(t[1])===-1)return-1;let e=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===t[0])e++;else if(r[n]===t[1]&&(e--,e<0))return n;return e>0?-2:-1}function Dr(r,t,e,n,i){let s=t.href,a=t.title||null,o=r[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:r[0].charAt(0)==="!"?"image":"link",raw:e,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function Jn(r,t,e){let n=r.match(e.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let a=s.match(e.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var dt=class{constructor(r){y(this,"options");y(this,"rules");y(this,"lexer");this.options=r||Se}space(r){let t=this.rules.block.newline.exec(r);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(r){let t=this.rules.block.code.exec(r);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Ve(e,`
`)}}}fences(r){let t=this.rules.block.fences.exec(r);if(t){let e=t[0],n=Jn(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(r){let t=this.rules.block.heading.exec(r);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let n=Ve(e,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(e=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(r){let t=this.rules.block.hr.exec(r);if(t)return{type:"hr",raw:Ve(t[0],`
`)}}blockquote(r){let t=this.rules.block.blockquote.exec(r);if(t){let e=Ve(t[0],`
`).split(`
`),n="",i="",s=[];for(;e.length>0;){let a=!1,o=[],l;for(l=0;l<e.length;l++)if(this.rules.other.blockquoteStart.test(e[l]))o.push(e[l]),a=!0;else if(!a)o.push(e[l]);else break;e=e.slice(l);let u=o.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${u}`:u,i=i?`${i}
${h}`:h;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,s,!0),this.lexer.state.top=f,e.length===0)break;let g=s.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let b=g,_=b.raw+`
`+e.join(`
`),N=this.blockquote(_);s[s.length-1]=N,n=n.substring(0,n.length-b.raw.length)+N.raw,i=i.substring(0,i.length-b.text.length)+N.text;break}else if(g?.type==="list"){let b=g,_=b.raw+`
`+e.join(`
`),N=this.list(_);s[s.length-1]=N,n=n.substring(0,n.length-g.raw.length)+N.raw,i=i.substring(0,i.length-b.raw.length)+N.raw,e=_.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(r){let t=this.rules.block.list.exec(r);if(t){let e=t[1].trim(),n=e.length>1,i={type:"list",raw:"",ordered:n,start:n?+e.slice(0,-1):"",loose:!1,items:[]};e=n?`\\d{1,9}\\${e.slice(-1)}`:`\\${e}`,this.options.pedantic&&(e=n?e:"[*+-]");let s=this.rules.other.listItemRegex(e),a=!1;for(;r;){let l=!1,u="",h="";if(!(t=s.exec(r))||this.rules.block.hr.test(r))break;u=t[0],r=r.substring(u.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,N=>" ".repeat(3*N.length)),g=r.split(`
`,1)[0],b=!f.trim(),_=0;if(this.options.pedantic?(_=2,h=f.trimStart()):b?_=t[1].length+1:(_=t[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,h=f.slice(_),_+=t[1].length),b&&this.rules.other.blankLine.test(g)&&(u+=g+`
`,r=r.substring(g.length+1),l=!0),!l){let N=this.rules.other.nextBulletRegex(_),Y=this.rules.other.hrRegex(_),Z=this.rules.other.fencesBeginRegex(_),z=this.rules.other.headingBeginRegex(_),O=this.rules.other.htmlBeginRegex(_);for(;r;){let w=r.split(`
`,1)[0],B;if(g=w,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),B=g):B=g.replace(this.rules.other.tabCharGlobal,"    "),Z.test(g)||z.test(g)||O.test(g)||N.test(g)||Y.test(g))break;if(B.search(this.rules.other.nonSpaceChar)>=_||!g.trim())h+=`
`+B.slice(_);else{if(b||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Z.test(f)||z.test(f)||Y.test(f))break;h+=`
`+g}!b&&!g.trim()&&(b=!0),u+=w+`
`,r=r.substring(w.length+1),f=B.slice(_)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0)),i.items.push({type:"list_item",raw:u,task:!!this.options.gfm&&this.rules.other.listIsTask.test(h),loose:!1,text:h,tokens:[]}),i.raw+=u}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l of i.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,""),l.tokens[0]?.type==="text"||l.tokens[0]?.type==="paragraph"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let h=this.lexer.inlineQueue.length-1;h>=0;h--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[h].src)){this.lexer.inlineQueue[h].src=this.lexer.inlineQueue[h].src.replace(this.rules.other.listReplaceTask,"");break}}let u=this.rules.other.listTaskCheckbox.exec(l.raw);if(u){let h={type:"checkbox",raw:u[0]+" ",checked:u[0]!=="[ ]"};l.checked=h.checked,i.loose?l.tokens[0]&&["paragraph","text"].includes(l.tokens[0].type)&&"tokens"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=h.raw+l.tokens[0].raw,l.tokens[0].text=h.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(h)):l.tokens.unshift({type:"paragraph",raw:h.raw,text:h.raw,tokens:[h]}):l.tokens.unshift(h)}}if(!i.loose){let u=l.tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));i.loose=h}}if(i.loose)for(let l of i.items){l.loose=!0;for(let u of l.tokens)u.type==="text"&&(u.type="paragraph")}return i}}html(r){let t=this.rules.block.html.exec(r);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(r){let t=this.rules.block.def.exec(r);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(r){let t=this.rules.block.table.exec(r);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let e=Cr(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(e.length===n.length){for(let a of n)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<e.length;a++)s.header.push({text:e[a],tokens:this.lexer.inline(e[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(Cr(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(r){let t=this.rules.block.lheading.exec(r);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(r){let t=this.rules.block.paragraph.exec(r);if(t){let e=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(r){let t=this.rules.block.text.exec(r);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(r){let t=this.rules.inline.escape.exec(r);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(r){let t=this.rules.inline.tag.exec(r);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(r){let t=this.rules.inline.link.exec(r);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let s=Ve(e.slice(0,-1),"\\");if((e.length-s.length)%2===0)return}else{let s=Qn(t[2],"()");if(s===-2)return;if(s>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n=n.slice(1):n=n.slice(1,-1)),Dr(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(r,t){let e;if((e=this.rules.inline.reflink.exec(r))||(e=this.rules.inline.nolink.exec(r))){let n=(e[2]||e[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[n.toLowerCase()];if(!i){let s=e[0].charAt(0);return{type:"text",raw:s,text:s}}return Dr(e,i,e[0],this.lexer,this.rules)}}emStrong(r,t,e=""){let n=this.rules.inline.emStrongLDelim.exec(r);if(!(!n||n[3]&&e.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!e||this.rules.inline.punctuation.exec(e))){let i=[...n[0]].length-1,s,a,o=i,l=0,u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*r.length+i);(n=u.exec(t))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(a=[...s].length,n[3]||n[4]){o+=a;continue}else if((n[5]||n[6])&&i%3&&!((i+a)%3)){l+=a;continue}if(o-=a,o>0)continue;a=Math.min(a,a+o+l);let h=[...n[0]][0].length,f=r.slice(0,i+n.index+h+a);if(Math.min(i,a)%2){let b=f.slice(1,-1);return{type:"em",raw:f,text:b,tokens:this.lexer.inlineTokens(b)}}let g=f.slice(2,-2);return{type:"strong",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(r){let t=this.rules.inline.code.exec(r);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),i=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&i&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(r){let t=this.rules.inline.br.exec(r);if(t)return{type:"br",raw:t[0]}}del(r){let t=this.rules.inline.del.exec(r);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(r){let t=this.rules.inline.autolink.exec(r);if(t){let e,n;return t[2]==="@"?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(r){let t;if(t=this.rules.inline.url.exec(r)){let e,n;if(t[2]==="@")e=t[0],n="mailto:"+e;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);e=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(r){let t=this.rules.inline.text.exec(r);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},ee=class Wt{constructor(t){y(this,"tokens");y(this,"options");y(this,"state");y(this,"inlineQueue");y(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Se,this.options.tokenizer=this.options.tokenizer||new dt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={other:q,block:ot.normal,inline:je.normal};this.options.pedantic?(e.block=ot.pedantic,e.inline=je.pedantic):this.options.gfm&&(e.block=ot.gfm,this.options.breaks?e.inline=je.breaks:e.inline=je.gfm),this.tokenizer.rules=e}static get rules(){return{block:ot,inline:je}}static lex(t,e){return new Wt(e).lex(t)}static lexInline(t,e){return new Wt(e).inlineTokens(t)}lex(t){t=t.replace(q.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let n=this.inlineQueue[e];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){for(this.options.pedantic&&(t=t.replace(q.tabCharGlobal,"    ").replace(q.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(a=>(i=a.call({lexer:this},t,e))?(t=t.substring(i.raw.length),e.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let a=e.at(-1);i.raw.length===1&&a!==void 0?a.raw+=`
`:e.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let a=e.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.at(-1).src=a.text):e.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let a=e.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},e.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),e.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),e.push(i);continue}let s=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},o),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let a=e.at(-1);n&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):e.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let a=e.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):e.push(i);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n=t,i=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let a=!1,o="";for(;t;){a||(o=""),a=!1;let l;if(this.options.extensions?.inline?.some(h=>(l=h.call({lexer:this},t,e))?(t=t.substring(l.raw.length),e.push(l),!0):!1))continue;if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length);let h=e.at(-1);l.type==="text"&&h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):e.push(l);continue}if(l=this.tokenizer.emStrong(t,n,o)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),e.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),e.push(l);continue}let u=t;if(this.options.extensions?.startInline){let h=1/0,f=t.slice(1),g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},f),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(u=t.substring(0,h+1))}if(l=this.tokenizer.inlineText(u)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),a=!0;let h=e.at(-1);h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):e.push(l);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return e}},bt=class{constructor(r){y(this,"options");y(this,"parser");this.options=r||Se}space(r){return""}code({text:r,lang:t,escaped:e}){let n=(t||"").match(q.notSpaceStart)?.[0],i=r.replace(q.endingNewline,"")+`
`;return n?'<pre><code class="language-'+be(n)+'">'+(e?i:be(i,!0))+`</code></pre>
`:"<pre><code>"+(e?i:be(i,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}def(r){return""}heading({tokens:r,depth:t}){return`<h${t}>${this.parser.parseInline(r)}</h${t}>
`}hr(r){return`<hr>
`}list(r){let t=r.ordered,e=r.start,n="";for(let a=0;a<r.items.length;a++){let o=r.items[a];n+=this.listitem(o)}let i=t?"ol":"ul",s=t&&e!==1?' start="'+e+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(r){return`<li>${this.parser.parse(r.tokens)}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let t="",e="";for(let i=0;i<r.header.length;i++)e+=this.tablecell(r.header[i]);t+=this.tablerow({text:e});let n="";for(let i=0;i<r.rows.length;i++){let s=r.rows[i];e="";for(let a=0;a<s.length;a++)e+=this.tablecell(s[a]);n+=this.tablerow({text:e})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let t=this.parser.parseInline(r.tokens),e=r.header?"th":"td";return(r.align?`<${e} align="${r.align}">`:`<${e}>`)+t+`</${e}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${be(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:t,tokens:e}){let n=this.parser.parseInline(e),i=Lr(r);if(i===null)return n;r=i;let s='<a href="'+r+'"';return t&&(s+=' title="'+be(t)+'"'),s+=">"+n+"</a>",s}image({href:r,title:t,text:e,tokens:n}){n&&(e=this.parser.parseInline(n,this.parser.textRenderer));let i=Lr(r);if(i===null)return be(e);r=i;let s=`<img src="${r}" alt="${e}"`;return t&&(s+=` title="${be(t)}"`),s+=">",s}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:be(r.text)}},ar=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}checkbox({raw:r}){return r}},te=class qt{constructor(t){y(this,"options");y(this,"renderer");y(this,"textRenderer");this.options=t||Se,this.options.renderer=this.options.renderer||new bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ar}static parse(t,e){return new qt(e).parse(t)}static parseInline(t,e){return new qt(e).parseInline(t)}parse(t){let e="";for(let n=0;n<t.length;n++){let i=t[n];if(this.options.extensions?.renderers?.[i.type]){let a=i,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){e+=o||"";continue}}let s=i;switch(s.type){case"space":{e+=this.renderer.space(s);break}case"hr":{e+=this.renderer.hr(s);break}case"heading":{e+=this.renderer.heading(s);break}case"code":{e+=this.renderer.code(s);break}case"table":{e+=this.renderer.table(s);break}case"blockquote":{e+=this.renderer.blockquote(s);break}case"list":{e+=this.renderer.list(s);break}case"checkbox":{e+=this.renderer.checkbox(s);break}case"html":{e+=this.renderer.html(s);break}case"def":{e+=this.renderer.def(s);break}case"paragraph":{e+=this.renderer.paragraph(s);break}case"text":{e+=this.renderer.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return e}parseInline(t,e=this.renderer){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let a=s;switch(a.type){case"escape":{n+=e.text(a);break}case"html":{n+=e.html(a);break}case"link":{n+=e.link(a);break}case"image":{n+=e.image(a);break}case"checkbox":{n+=e.checkbox(a);break}case"strong":{n+=e.strong(a);break}case"em":{n+=e.em(a);break}case"codespan":{n+=e.codespan(a);break}case"br":{n+=e.br(a);break}case"del":{n+=e.del(a);break}case"text":{n+=e.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},ht,et=(ht=class{constructor(r){y(this,"options");y(this,"block");this.options=r||Se}preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}emStrongMask(r){return r}provideLexer(){return this.block?ee.lex:ee.lexInline}provideParser(){return this.block?te.parse:te.parseInline}},y(ht,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),y(ht,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),ht),fi=class{constructor(...r){y(this,"defaults",Qt());y(this,"options",this.setOptions);y(this,"parse",this.parseMarkdown(!0));y(this,"parseInline",this.parseMarkdown(!1));y(this,"Parser",te);y(this,"Renderer",bt);y(this,"TextRenderer",ar);y(this,"Lexer",ee);y(this,"Tokenizer",dt);y(this,"Hooks",et);this.use(...r)}walkTokens(r,t){let e=[];for(let n of r)switch(e=e.concat(t.call(this,n)),n.type){case"table":{let i=n;for(let s of i.header)e=e.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)e=e.concat(this.walkTokens(a.tokens,t));break}case"list":{let i=n;e=e.concat(this.walkTokens(i.items,t));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);e=e.concat(this.walkTokens(a,t))}):i.tokens&&(e=e.concat(this.walkTokens(i.tokens,t)))}}return e}use(...r){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),e.renderer){let i=this.defaults.renderer||new bt(this.defaults);for(let s in e.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,o=e.renderer[a],l=i[a];i[a]=(...u)=>{let h=o.apply(i,u);return h===!1&&(h=l.apply(i,u)),h||""}}n.renderer=i}if(e.tokenizer){let i=this.defaults.tokenizer||new dt(this.defaults);for(let s in e.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,o=e.tokenizer[a],l=i[a];i[a]=(...u)=>{let h=o.apply(i,u);return h===!1&&(h=l.apply(i,u)),h}}n.tokenizer=i}if(e.hooks){let i=this.defaults.hooks||new et;for(let s in e.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,o=e.hooks[a],l=i[a];et.passThroughHooks.has(s)?i[a]=u=>{if(this.defaults.async&&et.passThroughHooksRespectAsync.has(s))return(async()=>{let f=await o.call(i,u);return l.call(i,f)})();let h=o.call(i,u);return l.call(i,h)}:i[a]=(...u)=>{if(this.defaults.async)return(async()=>{let f=await o.apply(i,u);return f===!1&&(f=await l.apply(i,u)),f})();let h=o.apply(i,u);return h===!1&&(h=l.apply(i,u)),h}}n.hooks=i}if(e.walkTokens){let i=this.defaults.walkTokens,s=e.walkTokens;n.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,t){return ee.lex(r,t??this.defaults)}parser(r,t){return te.parse(r,t??this.defaults)}parseMarkdown(r){return(t,e)=>{let n={...e},i={...this.defaults,...n},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=r),i.async)return(async()=>{let a=i.hooks?await i.hooks.preprocess(t):t,o=await(i.hooks?await i.hooks.provideLexer():r?ee.lex:ee.lexInline)(a,i),l=i.hooks?await i.hooks.processAllTokens(o):o;i.walkTokens&&await Promise.all(this.walkTokens(l,i.walkTokens));let u=await(i.hooks?await i.hooks.provideParser():r?te.parse:te.parseInline)(l,i);return i.hooks?await i.hooks.postprocess(u):u})().catch(s);try{i.hooks&&(t=i.hooks.preprocess(t));let a=(i.hooks?i.hooks.provideLexer():r?ee.lex:ee.lexInline)(t,i);i.hooks&&(a=i.hooks.processAllTokens(a)),i.walkTokens&&this.walkTokens(a,i.walkTokens);let o=(i.hooks?i.hooks.provideParser():r?te.parse:te.parseInline)(a,i);return i.hooks&&(o=i.hooks.postprocess(o)),o}catch(a){return s(a)}}}onError(r,t){return e=>{if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let n="<p>An error occurred:</p><pre>"+be(e.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(e);throw e}}},we=new fi;function v(r,t){return we.parse(r,t)}v.options=v.setOptions=function(r){return we.setOptions(r),v.defaults=we.defaults,ti(v.defaults),v};v.getDefaults=Qt;v.defaults=Se;v.use=function(...r){return we.use(...r),v.defaults=we.defaults,ti(v.defaults),v};v.walkTokens=function(r,t){return we.walkTokens(r,t)};v.parseInline=we.parseInline;v.Parser=te;v.parser=te.parse;v.Renderer=bt;v.TextRenderer=ar;v.Lexer=ee;v.lexer=ee.lex;v.Tokenizer=dt;v.Hooks=et;v.parse=v;v.options;v.setOptions;v.use;v.walkTokens;v.parseInline;te.parse;ee.lex;class es{constructor(){y(this,"sourceFormat","markdown");y(this,"targetFormat","html");y(this,"markedInstance");this.markedInstance=new fi({gfm:!0,breaks:!1})}convert(t,e){const n=performance.now(),i=this.markedInstance.parse(t),s=performance.now()-n;return{content:i,metadata:{sourceFormat:this.sourceFormat,targetFormat:this.targetFormat,processingTimeMs:s}}}}var Dt={exports:{}},Ir;function ts(){return Ir||(Ir=1,(function(r){function t(e,n){if(n&&n.documentElement)e=n,n=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(n=n||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._metadata={},this._debug=!!n.debug,this._maxElemsToParse=n.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=n.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=n.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(n.classesToPreserve||[]),this._keepClasses=!!n.keepClasses,this._serializer=n.serializer||function(i){return i.innerHTML},this._disableJSONLD=!!n.disableJSONLD,this._allowedVideoRegex=n.allowedVideoRegex||this.REGEXPS.videos,this._linkDensityModifier=n.linkDensityModifier||0,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let i=function(s){if(s.nodeType==s.TEXT_NODE)return`${s.nodeName} ("${s.textContent}")`;let a=Array.from(s.attributes||[],function(o){return`${o.name}="${o.value}"`}).join(" ");return`<${s.localName} ${a}>`};this.log=function(){if(typeof console<"u"){let a=Array.from(arguments,o=>o&&o.nodeType==this.ELEMENT_NODE?i(o):o);a.unshift("Reader: (Readability)"),console.log(...a)}else if(typeof dump<"u"){var s=Array.prototype.map.call(arguments,function(a){return a&&a.nodeName?i(a):a}).join(" ");dump("Reader: (Readability) "+s+`
`)}}}else this.log=function(){}}t.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,adWords:/^(ad(vertising|vertisement)?|pub(licité)?|werb(ung)?|广告|Реклама|Anuncio)$/iu,loadingWords:/^((loading|正在加载|Загрузка|chargement|cargando)(…|\.\.\.)?)$/iu},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P","OL","UL"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes(e,n){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var i=e.length-1;i>=0;i--){var s=e[i],a=s.parentNode;a&&(!n||n.call(this,s,i,e))&&a.removeChild(s)}},_replaceNodeTags(e,n){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const i of e)this._setNodeTag(i,n)},_forEachNode(e,n){Array.prototype.forEach.call(e,n,this)},_findNode(e,n){return Array.prototype.find.call(e,n,this)},_someNode(e,n){return Array.prototype.some.call(e,n,this)},_everyNode(e,n){return Array.prototype.every.call(e,n,this)},_getAllNodesWithTag(e,n){return e.querySelectorAll?e.querySelectorAll(n.join(",")):[].concat.apply([],n.map(function(i){var s=e.getElementsByTagName(i);return Array.isArray(s)?s:Array.from(s)}))},_cleanClasses(e){var n=this._classesToPreserve,i=(e.getAttribute("class")||"").split(/\s+/).filter(s=>n.includes(s)).join(" ");for(i?e.setAttribute("class",i):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_isUrl(e){try{return new URL(e),!0}catch{return!1}},_fixRelativeUris(e){var n=this._doc.baseURI,i=this._doc.documentURI;function s(l){if(n==i&&l.charAt(0)=="#")return l;try{return new URL(l,n).href}catch{}return l}var a=this._getAllNodesWithTag(e,["a"]);this._forEachNode(a,function(l){var u=l.getAttribute("href");if(u)if(u.indexOf("javascript:")===0)if(l.childNodes.length===1&&l.childNodes[0].nodeType===this.TEXT_NODE){var h=this._doc.createTextNode(l.textContent);l.parentNode.replaceChild(h,l)}else{for(var f=this._doc.createElement("span");l.firstChild;)f.appendChild(l.firstChild);l.parentNode.replaceChild(f,l)}else l.setAttribute("href",s(u))});var o=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(o,function(l){var u=l.getAttribute("src"),h=l.getAttribute("poster"),f=l.getAttribute("srcset");if(u&&l.setAttribute("src",s(u)),h&&l.setAttribute("poster",s(h)),f){var g=f.replace(this.REGEXPS.srcsetUrl,function(b,_,N,Y){return s(_)+(N||"")+Y});l.setAttribute("srcset",g)}})},_simplifyNestedElements(e){for(var n=e;n;){if(n.parentNode&&["DIV","SECTION"].includes(n.tagName)&&!(n.id&&n.id.startsWith("readability"))){if(this._isElementWithoutContent(n)){n=this._removeAndGetNext(n);continue}else if(this._hasSingleTagInsideElement(n,"DIV")||this._hasSingleTagInsideElement(n,"SECTION")){for(var i=n.children[0],s=0;s<n.attributes.length;s++)i.setAttributeNode(n.attributes[s].cloneNode());n.parentNode.replaceChild(i,n),n=i;continue}}n=this._getNextNode(n)}},_getArticleTitle(){var e=this._doc,n="",i="";try{n=i=e.title.trim(),typeof n!="string"&&(n=i=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var s=!1;function a(g){return g.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(n)){s=/ [\\\/>»] /.test(n);let g=Array.from(i.matchAll(/ [\|\-\\\/>»] /gi));n=i.substring(0,g.pop().index),a(n)<3&&(n=i.replace(/^[^\|\-\\\/>»]*[\|\-\\\/>»]/gi,""))}else if(n.includes(": ")){var o=this._getAllNodesWithTag(e,["h1","h2"]),l=n.trim(),u=this._someNode(o,function(g){return g.textContent.trim()===l});u||(n=i.substring(i.lastIndexOf(":")+1),a(n)<3?n=i.substring(i.indexOf(":")+1):a(i.substr(0,i.indexOf(":")))>5&&(n=i))}else if(n.length>150||n.length<15){var h=e.getElementsByTagName("h1");h.length===1&&(n=this._getInnerText(h[0]))}n=n.trim().replace(this.REGEXPS.normalize," ");var f=a(n);return f<=4&&(!s||f!=a(i.replace(/[\|\-\\\/>»]+/g,""))-1)&&(n=i),n},_prepDocument(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode(e){for(var n=e;n&&n.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(n.textContent);)n=n.nextSibling;return n},_replaceBrs(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(n){for(var i=n.nextSibling,s=!1;(i=this._nextNode(i))&&i.tagName=="BR";){s=!0;var a=i.nextSibling;i.remove(),i=a}if(s){var o=this._doc.createElement("p");for(n.parentNode.replaceChild(o,n),i=o.nextSibling;i;){if(i.tagName=="BR"){var l=this._nextNode(i.nextSibling);if(l&&l.tagName=="BR")break}if(!this._isPhrasingContent(i))break;var u=i.nextSibling;o.appendChild(i),i=u}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.lastChild.remove();o.parentNode.tagName==="P"&&this._setNodeTag(o.parentNode,"DIV")}})},_setNodeTag(e,n){if(this.log("_setNodeTag",e,n),this._docJSDOMParser)return e.localName=n.toLowerCase(),e.tagName=n.toUpperCase(),e;for(var i=e.ownerDocument.createElement(n);e.firstChild;)i.appendChild(e.firstChild);e.parentNode.replaceChild(i,e),e.readability&&(i.readability=e.readability);for(var s=0;s<e.attributes.length;s++)i.setAttributeNode(e.attributes[s].cloneNode());return i},_prepArticle(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var n=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(i){this._cleanMatchedNodes(i,function(s,a){return this.REGEXPS.shareElements.test(a)&&s.textContent.length<n})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(i){var s=this._getAllNodesWithTag(i,["img","embed","object","iframe"]).length;return s===0&&!this._getInnerText(i,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(i){var s=this._nextNode(i.nextSibling);s&&s.tagName=="P"&&i.remove()}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(i){var s=this._hasSingleTagInsideElement(i,"TBODY")?i.firstElementChild:i;if(this._hasSingleTagInsideElement(s,"TR")){var a=s.firstElementChild;if(this._hasSingleTagInsideElement(a,"TD")){var o=a.firstElementChild;o=this._setNodeTag(o,this._everyNode(o.childNodes,this._isPhrasingContent)?"P":"DIV"),i.parentNode.replaceChild(o,i)}}})},_initializeNode(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext(e){var n=this._getNextNode(e,!0);return e.remove(),n},_getNextNode(e,n){if(!n&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity(e,n){var i=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),s=n.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!i.length||!s.length)return 0;var a=s.filter(l=>!i.includes(l)),o=a.join(" ").length/s.join(" ").length;return 1-o},_isValidByline(e,n){var i=e.getAttribute("rel"),s=e.getAttribute("itemprop"),a=e.textContent.trim().length;return(i==="author"||s&&s.includes("author")||this.REGEXPS.byline.test(n))&&!!a&&a<100},_getNodeAncestors(e,n){n=n||0;for(var i=0,s=[];e.parentNode&&(s.push(e.parentNode),!(n&&++i===n));)e=e.parentNode;return s},_grabArticle(e){this.log("**** grabArticle ****");var n=this._doc,i=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var s=e.innerHTML;;){this.log("Starting grabArticle loop");var a=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],l=this._doc.documentElement;let De=!0;for(;l;){l.tagName==="HTML"&&(this._articleLang=l.getAttribute("lang"));var u=l.className+" "+l.id;if(!this._isProbablyVisible(l)){this.log("Removing hidden node - "+u),l=this._removeAndGetNext(l);continue}if(l.getAttribute("aria-modal")=="true"&&l.getAttribute("role")=="dialog"){l=this._removeAndGetNext(l);continue}if(!this._articleByline&&!this._metadata.byline&&this._isValidByline(l,u)){for(var h=this._getNextNode(l,!0),f=this._getNextNode(l),g=null;f&&f!=h;){var b=f.getAttribute("itemprop");if(b&&b.includes("name")){g=f;break}else f=this._getNextNode(f)}this._articleByline=(g??l).textContent.trim(),l=this._removeAndGetNext(l);continue}if(De&&this._headerDuplicatesTitle(l)){this.log("Removing header: ",l.textContent.trim(),this._articleTitle.trim()),De=!1,l=this._removeAndGetNext(l);continue}if(a){if(this.REGEXPS.unlikelyCandidates.test(u)&&!this.REGEXPS.okMaybeItsACandidate.test(u)&&!this._hasAncestorTag(l,"table")&&!this._hasAncestorTag(l,"code")&&l.tagName!=="BODY"&&l.tagName!=="A"){this.log("Removing unlikely candidate - "+u),l=this._removeAndGetNext(l);continue}if(this.UNLIKELY_ROLES.includes(l.getAttribute("role"))){this.log("Removing content with role "+l.getAttribute("role")+" - "+u),l=this._removeAndGetNext(l);continue}}if((l.tagName==="DIV"||l.tagName==="SECTION"||l.tagName==="HEADER"||l.tagName==="H1"||l.tagName==="H2"||l.tagName==="H3"||l.tagName==="H4"||l.tagName==="H5"||l.tagName==="H6")&&this._isElementWithoutContent(l)){l=this._removeAndGetNext(l);continue}if(this.DEFAULT_TAGS_TO_SCORE.includes(l.tagName)&&o.push(l),l.tagName==="DIV"){for(var _=null,N=l.firstChild;N;){var Y=N.nextSibling;if(this._isPhrasingContent(N))_!==null?_.appendChild(N):this._isWhitespace(N)||(_=n.createElement("p"),l.replaceChild(_,N),_.appendChild(N));else if(_!==null){for(;_.lastChild&&this._isWhitespace(_.lastChild);)_.lastChild.remove();_=null}N=Y}if(this._hasSingleTagInsideElement(l,"P")&&this._getLinkDensity(l)<.25){var Z=l.children[0];l.parentNode.replaceChild(Z,l),l=Z,o.push(l)}else this._hasChildBlockElement(l)||(l=this._setNodeTag(l,"P"),o.push(l))}l=this._getNextNode(l)}var z=[];this._forEachNode(o,function(K){if(!(!K.parentNode||typeof K.parentNode.tagName>"u")){var G=this._getInnerText(K);if(!(G.length<25)){var ve=this._getNodeAncestors(K,5);if(ve.length!==0){var pe=0;pe+=1,pe+=G.split(this.REGEXPS.commas).length,pe+=Math.min(Math.floor(G.length/100),3),this._forEachNode(ve,function(ie,Ie){if(!(!ie.tagName||!ie.parentNode||typeof ie.parentNode.tagName>"u")){if(typeof ie.readability>"u"&&(this._initializeNode(ie),z.push(ie)),Ie===0)var We=1;else Ie===1?We=2:We=Ie*3;ie.readability.contentScore+=pe/We}})}}}});for(var O=[],w=0,B=z.length;w<B;w+=1){var H=z[w],Ee=H.readability.contentScore*(1-this._getLinkDensity(H));H.readability.contentScore=Ee,this.log("Candidate:",H,"with score "+Ee);for(var oe=0;oe<this._nbTopCandidates;oe++){var ke=O[oe];if(!ke||Ee>ke.readability.contentScore){O.splice(oe,0,H),O.length>this._nbTopCandidates&&O.pop();break}}}var k=O[0]||null,C=!1,E;if(k===null||k.tagName==="BODY"){for(k=n.createElement("DIV"),C=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),k.appendChild(e.firstChild);e.appendChild(k),this._initializeNode(k)}else if(k){for(var D=[],ce=1;ce<O.length;ce++)O[ce].readability.contentScore/k.readability.contentScore>=.75&&D.push(this._getNodeAncestors(O[ce]));var He=3;if(D.length>=He)for(E=k.parentNode;E.tagName!=="BODY";){for(var Ue=0,Fe=0;Fe<D.length&&Ue<He;Fe++)Ue+=Number(D[Fe].includes(E));if(Ue>=He){k=E;break}E=E.parentNode}k.readability||this._initializeNode(k),E=k.parentNode;for(var Re=k.readability.contentScore,Et=Re/3;E.tagName!=="BODY";){if(!E.readability){E=E.parentNode;continue}var ze=E.readability.contentScore;if(ze<Et)break;if(ze>Re){k=E;break}Re=E.readability.contentScore,E=E.parentNode}for(E=k.parentNode;E.tagName!="BODY"&&E.children.length==1;)k=E,E=k.parentNode;k.readability||this._initializeNode(k)}var A=n.createElement("DIV");i&&(A.id="readability-content");var it=Math.max(10,k.readability.contentScore*.2);E=k.parentNode;for(var I=E.children,ye=0,S=I.length;ye<S;ye++){var R=I[ye],ue=!1;if(this.log("Looking at sibling node:",R,R.readability?"with score "+R.readability.contentScore:""),this.log("Sibling has score",R.readability?R.readability.contentScore:"Unknown"),R===k)ue=!0;else{var he=0;if(R.className===k.className&&k.className!==""&&(he+=k.readability.contentScore*.2),R.readability&&R.readability.contentScore+he>=it)ue=!0;else if(R.nodeName==="P"){var Ge=this._getLinkDensity(R),Le=this._getInnerText(R),Ce=Le.length;(Ce>80&&Ge<.25||Ce<80&&Ce>0&&Ge===0&&Le.search(/\.( |$)/)!==-1)&&(ue=!0)}}ue&&(this.log("Appending node:",R),this.ALTER_TO_DIV_EXCEPTIONS.includes(R.nodeName)||(this.log("Altering sibling:",R,"to div."),R=this._setNodeTag(R,"DIV")),A.appendChild(R),I=E.children,ye-=1,S-=1)}if(this._debug&&this.log("Article content pre-prep: "+A.innerHTML),this._prepArticle(A),this._debug&&this.log("Article content post-prep: "+A.innerHTML),C)k.id="readability-page-1",k.className="page";else{var Ae=n.createElement("DIV");for(Ae.id="readability-page-1",Ae.className="page";A.firstChild;)Ae.appendChild(A.firstChild);A.appendChild(Ae)}this._debug&&this.log("Article content after paging: "+A.innerHTML);var re=!0,xe=this._getInnerText(A,!0).length;if(xe<this._charThreshold)if(re=!1,e.innerHTML=s,this._attempts.push({articleContent:A,textLength:xe}),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);else{if(this._attempts.sort(function(K,G){return G.textLength-K.textLength}),!this._attempts[0].textLength)return null;A=this._attempts[0].articleContent,re=!0}if(re){var fe=[E,k].concat(this._getNodeAncestors(E));return this._someNode(fe,function(K){if(!K.tagName)return!1;var G=K.getAttribute("dir");return G?(this._articleDir=G,!0):!1}),A}}},_unescapeHtmlEntities(e){if(!e)return e;var n=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(i,s){return n[s]}).replace(/&#(?:x([0-9a-f]+)|([0-9]+));/gi,function(i,s,a){var o=parseInt(s||a,s?16:10);return(o==0||o>1114111||o>=55296&&o<=57343)&&(o=65533),String.fromCodePoint(o)})},_getJSONLD(e){var n=this._getAllNodesWithTag(e,["script"]),i;return this._forEachNode(n,function(s){if(!i&&s.getAttribute("type")==="application/ld+json")try{var a=s.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),o=JSON.parse(a);if(Array.isArray(o)&&(o=o.find(b=>b["@type"]&&b["@type"].match(this.REGEXPS.jsonLdArticleTypes)),!o))return;var l=/^https?\:\/\/schema\.org\/?$/,u=typeof o["@context"]=="string"&&o["@context"].match(l)||typeof o["@context"]=="object"&&typeof o["@context"]["@vocab"]=="string"&&o["@context"]["@vocab"].match(l);if(!u||(!o["@type"]&&Array.isArray(o["@graph"])&&(o=o["@graph"].find(b=>(b["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes))),!o||!o["@type"]||!o["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(i={},typeof o.name=="string"&&typeof o.headline=="string"&&o.name!==o.headline){var h=this._getArticleTitle(),f=this._textSimilarity(o.name,h)>.75,g=this._textSimilarity(o.headline,h)>.75;g&&!f?i.title=o.headline:i.title=o.name}else typeof o.name=="string"?i.title=o.name.trim():typeof o.headline=="string"&&(i.title=o.headline.trim());o.author&&(typeof o.author.name=="string"?i.byline=o.author.name.trim():Array.isArray(o.author)&&o.author[0]&&typeof o.author[0].name=="string"&&(i.byline=o.author.filter(function(b){return b&&typeof b.name=="string"}).map(function(b){return b.name.trim()}).join(", "))),typeof o.description=="string"&&(i.excerpt=o.description.trim()),o.publisher&&typeof o.publisher.name=="string"&&(i.siteName=o.publisher.name.trim()),typeof o.datePublished=="string"&&(i.datePublished=o.datePublished.trim())}catch(b){this.log(b.message)}}),i||{}},_getArticleMetadata(e){var n={},i={},s=this._doc.getElementsByTagName("meta"),a=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|parsely|weibo:(article|webpage))\s*[-\.:]\s*)?(author|creator|pub-date|description|title|site_name)\s*$/i;this._forEachNode(s,function(u){var h=u.getAttribute("name"),f=u.getAttribute("property"),g=u.getAttribute("content");if(g){var b=null,_=null;f&&(b=f.match(a),b&&(_=b[0].toLowerCase().replace(/\s/g,""),i[_]=g.trim())),!b&&h&&o.test(h)&&(_=h,g&&(_=_.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),i[_]=g.trim()))}}),n.title=e.title||i["dc:title"]||i["dcterm:title"]||i["og:title"]||i["weibo:article:title"]||i["weibo:webpage:title"]||i.title||i["twitter:title"]||i["parsely-title"],n.title||(n.title=this._getArticleTitle());const l=typeof i["article:author"]=="string"&&!this._isUrl(i["article:author"])?i["article:author"]:void 0;return n.byline=e.byline||i["dc:creator"]||i["dcterm:creator"]||i.author||i["parsely-author"]||l,n.excerpt=e.excerpt||i["dc:description"]||i["dcterm:description"]||i["og:description"]||i["weibo:article:description"]||i["weibo:webpage:description"]||i.description||i["twitter:description"],n.siteName=e.siteName||i["og:site_name"],n.publishedTime=e.datePublished||i["article:published_time"]||i["parsely-pub-date"]||null,n.title=this._unescapeHtmlEntities(n.title),n.byline=this._unescapeHtmlEntities(n.byline),n.excerpt=this._unescapeHtmlEntities(n.excerpt),n.siteName=this._unescapeHtmlEntities(n.siteName),n.publishedTime=this._unescapeHtmlEntities(n.publishedTime),n},_isSingleImage(e){for(;e;){if(e.tagName==="IMG")return!0;if(e.children.length!==1||e.textContent.trim()!=="")return!1;e=e.children[0]}return!1},_unwrapNoscriptImages(e){var n=Array.from(e.getElementsByTagName("img"));this._forEachNode(n,function(s){for(var a=0;a<s.attributes.length;a++){var o=s.attributes[a];switch(o.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(o.value))return}s.remove()});var i=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(i,function(s){if(this._isSingleImage(s)){var a=e.createElement("div");a.innerHTML=s.innerHTML;var o=s.previousElementSibling;if(o&&this._isSingleImage(o)){var l=o;l.tagName!=="IMG"&&(l=o.getElementsByTagName("img")[0]);for(var u=a.getElementsByTagName("img")[0],h=0;h<l.attributes.length;h++){var f=l.attributes[h];if(f.value!==""&&(f.name==="src"||f.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(f.value))){if(u.getAttribute(f.name)===f.value)continue;var g=f.name;u.hasAttribute(g)&&(g="data-old-"+g),u.setAttribute(g,f.value)}}s.parentNode.replaceChild(a.firstElementChild,o)}}})},_removeScripts(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement(e,n){return e.children.length!=1||e.children[0].tagName!==n?!1:!this._someNode(e.childNodes,function(i){return i.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(i.textContent)})},_isElementWithoutContent(e){return e.nodeType===this.ELEMENT_NODE&&!e.textContent.trim().length&&(!e.children.length||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement(e){return this._someNode(e.childNodes,function(n){return this.DIV_TO_P_ELEMS.has(n.tagName)||this._hasChildBlockElement(n)})},_isPhrasingContent(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.includes(e.tagName)||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText(e,n){n=typeof n>"u"?!0:n;var i=e.textContent.trim();return n?i.replace(this.REGEXPS.normalize," "):i},_getCharCount(e,n){return n=n||",",this._getInnerText(e).split(n).length-1},_cleanStyles(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var n=0;n<this.PRESENTATIONAL_ATTRIBUTES.length;n++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[n]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.includes(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var i=e.firstElementChild;i!==null;)this._cleanStyles(i),i=i.nextElementSibling}},_getLinkDensity(e){var n=this._getInnerText(e).length;if(n===0)return 0;var i=0;return this._forEachNode(e.getElementsByTagName("a"),function(s){var a=s.getAttribute("href"),o=a&&this.REGEXPS.hashUrl.test(a)?.3:1;i+=this._getInnerText(s).length*o}),i/n},_getClassWeight(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var n=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(n-=25),this.REGEXPS.positive.test(e.className)&&(n+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(n-=25),this.REGEXPS.positive.test(e.id)&&(n+=25)),n},_clean(e,n){var i=["object","embed","iframe"].includes(n);this._removeNodes(this._getAllNodesWithTag(e,[n]),function(s){if(i){for(var a=0;a<s.attributes.length;a++)if(this._allowedVideoRegex.test(s.attributes[a].value))return!1;if(s.tagName==="object"&&this._allowedVideoRegex.test(s.innerHTML))return!1}return!0})},_hasAncestorTag(e,n,i,s){i=i||3,n=n.toUpperCase();for(var a=0;e.parentNode;){if(i>0&&a>i)return!1;if(e.parentNode.tagName===n&&(!s||s(e.parentNode)))return!0;e=e.parentNode,a++}return!1},_getRowAndColumnCount(e){for(var n=0,i=0,s=e.getElementsByTagName("tr"),a=0;a<s.length;a++){var o=s[a].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),n+=o||1;for(var l=0,u=s[a].getElementsByTagName("td"),h=0;h<u.length;h++){var f=u[h].getAttribute("colspan")||0;f&&(f=parseInt(f,10)),l+=f||1}i=Math.max(i,l)}return{rows:n,columns:i}},_markDataTables(e){for(var n=e.getElementsByTagName("table"),i=0;i<n.length;i++){var s=n[i],a=s.getAttribute("role");if(a=="presentation"){s._readabilityDataTable=!1;continue}var o=s.getAttribute("datatable");if(o=="0"){s._readabilityDataTable=!1;continue}var l=s.getAttribute("summary");if(l){s._readabilityDataTable=!0;continue}var u=s.getElementsByTagName("caption")[0];if(u&&u.childNodes.length){s._readabilityDataTable=!0;continue}var h=["col","colgroup","tfoot","thead","th"],f=function(b){return!!s.getElementsByTagName(b)[0]};if(h.some(f)){this.log("Data table because found data-y descendant"),s._readabilityDataTable=!0;continue}if(s.getElementsByTagName("table")[0]){s._readabilityDataTable=!1;continue}var g=this._getRowAndColumnCount(s);if(g.columns==1||g.rows==1){s._readabilityDataTable=!1;continue}if(g.rows>=10||g.columns>4){s._readabilityDataTable=!0;continue}s._readabilityDataTable=g.rows*g.columns>10}},_fixLazyImages(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(n){if(n.src&&this.REGEXPS.b64DataUrl.test(n.src)){var i=this.REGEXPS.b64DataUrl.exec(n.src);if(i[1]==="image/svg+xml")return;for(var s=!1,a=0;a<n.attributes.length;a++){var o=n.attributes[a];if(o.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){s=!0;break}}if(s){var l=i[0].length,u=n.src.length-l;u<133&&n.removeAttribute("src")}}if(!((n.src||n.srcset&&n.srcset!="null")&&!n.className.toLowerCase().includes("lazy"))){for(var h=0;h<n.attributes.length;h++)if(o=n.attributes[h],!(o.name==="src"||o.name==="srcset"||o.name==="alt")){var f=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?f="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(f="src"),f){if(n.tagName==="IMG"||n.tagName==="PICTURE")n.setAttribute(f,o.value);else if(n.tagName==="FIGURE"&&!this._getAllNodesWithTag(n,["img","picture"]).length){var g=this._doc.createElement("img");g.setAttribute(f,o.value),n.appendChild(g)}}}}})},_getTextDensity(e,n){var i=this._getInnerText(e,!0).length;if(i===0)return 0;var s=0,a=this._getAllNodesWithTag(e,n);return this._forEachNode(a,o=>s+=this._getInnerText(o,!0).length),s/i},_cleanConditionally(e,n){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[n]),function(i){var s=function(E){return E._readabilityDataTable},a=n==="ul"||n==="ol";if(!a){var o=0,l=this._getAllNodesWithTag(i,["ul","ol"]);this._forEachNode(l,E=>o+=this._getInnerText(E).length),a=o/this._getInnerText(i).length>.9}if(n==="table"&&s(i)||this._hasAncestorTag(i,"table",-1,s)||this._hasAncestorTag(i,"code")||[...i.getElementsByTagName("table")].some(E=>E._readabilityDataTable))return!1;var u=this._getClassWeight(i);this.log("Cleaning Conditionally",i);var h=0;if(u+h<0)return!0;if(this._getCharCount(i,",")<10){for(var f=i.getElementsByTagName("p").length,g=i.getElementsByTagName("img").length,b=i.getElementsByTagName("li").length-100,_=i.getElementsByTagName("input").length,N=this._getTextDensity(i,["h1","h2","h3","h4","h5","h6"]),Y=0,Z=this._getAllNodesWithTag(i,["object","embed","iframe"]),z=0;z<Z.length;z++){for(var O=0;O<Z[z].attributes.length;O++)if(this._allowedVideoRegex.test(Z[z].attributes[O].value))return!1;if(Z[z].tagName==="object"&&this._allowedVideoRegex.test(Z[z].innerHTML))return!1;Y++}var w=this._getInnerText(i);if(this.REGEXPS.adWords.test(w)||this.REGEXPS.loadingWords.test(w))return!0;var B=w.length,H=this._getLinkDensity(i),Ee=["SPAN","LI","TD"].concat(Array.from(this.DIV_TO_P_ELEMS)),oe=this._getTextDensity(i,Ee),ke=this._hasAncestorTag(i,"figure"),k=(()=>{const D=[];return!ke&&g>1&&f/g<.5&&D.push(`Bad p to img ratio (img=${g}, p=${f})`),!a&&b>f&&D.push(`Too many li's outside of a list. (li=${b} > p=${f})`),_>Math.floor(f/3)&&D.push(`Too many inputs per p. (input=${_}, p=${f})`),!a&&!ke&&N<.9&&B<25&&(g===0||g>2)&&H>0&&D.push(`Suspiciously short. (headingDensity=${N}, img=${g}, linkDensity=${H})`),!a&&u<25&&H>.2+this._linkDensityModifier&&D.push(`Low weight and a little linky. (linkDensity=${H})`),u>=25&&H>.5+this._linkDensityModifier&&D.push(`High weight and mostly links. (linkDensity=${H})`),(Y===1&&B<75||Y>1)&&D.push(`Suspicious embed. (embedCount=${Y}, contentLength=${B})`),g===0&&oe===0&&D.push(`No useful content. (img=${g}, textDensity=${oe})`),D.length?(this.log("Checks failed",D),!0):!1})();if(a&&k){for(var C=0;C<i.children.length;C++)if(i.children[C].children.length>1)return k;let D=i.getElementsByTagName("li").length;if(g==D)return!1}return k}return!1})},_cleanMatchedNodes(e,n){for(var i=this._getNextNode(e,!0),s=this._getNextNode(e);s&&s!=i;)n.call(this,s,s.className+" "+s.id)?s=this._removeAndGetNext(s):s=this._getNextNode(s)},_cleanHeaders(e){let n=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(n,function(i){let s=this._getClassWeight(i)<0;return s&&this.log("Removing header with low class weight:",i),s})},_headerDuplicatesTitle(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var n=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",n,this._articleTitle),this._textSimilarity(this._articleTitle,n)>.75},_flagIsActive(e){return(this._flags&e)>0},_removeFlag(e){this._flags=this._flags&~e},_isProbablyVisible(e){return(!e.style||e.style.display!="none")&&(!e.style||e.style.visibility!="hidden")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.includes&&e.className.includes("fallback-image"))},parse(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var n=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var i=this._getArticleMetadata(n);this._metadata=i,this._articleTitle=i.title;var s=this._grabArticle();if(!s)return null;if(this.log("Grabbed: "+s.innerHTML),this._postProcessContent(s),!i.excerpt){var a=s.getElementsByTagName("p");a.length&&(i.excerpt=a[0].textContent.trim())}var o=s.textContent;return{title:this._articleTitle,byline:i.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(s),textContent:o,length:o.length,excerpt:i.excerpt,siteName:i.siteName||this._articleSiteName,publishedTime:i.publishedTime}}},r.exports=t})(Dt)),Dt.exports}var It={exports:{}},Pr;function rs(){return Pr||(Pr=1,(function(r){var t={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function e(i){return(!i.style||i.style.display!="none")&&!i.hasAttribute("hidden")&&(!i.hasAttribute("aria-hidden")||i.getAttribute("aria-hidden")!="true"||i.className&&i.className.includes&&i.className.includes("fallback-image"))}function n(i,s={}){typeof s=="function"&&(s={visibilityChecker:s});var a={minScore:20,minContentLength:140,visibilityChecker:e};s=Object.assign(a,s);var o=i.querySelectorAll("p, pre, article"),l=i.querySelectorAll("div > br");if(l.length){var u=new Set(o);[].forEach.call(l,function(f){u.add(f.parentNode)}),o=Array.from(u)}var h=0;return[].some.call(o,function(f){if(!s.visibilityChecker(f))return!1;var g=f.className+" "+f.id;if(t.unlikelyCandidates.test(g)&&!t.okMaybeItsACandidate.test(g)||f.matches("li p"))return!1;var b=f.textContent.trim().length;return b<s.minContentLength?!1:(h+=Math.sqrt(b-s.minContentLength),h>s.minScore)})}r.exports=n})(It)),It.exports}var Pt,Or;function is(){if(Or)return Pt;Or=1;var r=ts(),t=rs();return Pt={Readability:r,isProbablyReaderable:t},Pt}var ns=is();const{entries:pi,setPrototypeOf:Mr,isFrozen:ss,getPrototypeOf:as,getOwnPropertyDescriptor:ls}=Object;let{freeze:X,seal:Q,create:Xt}=Object,{apply:jt,construct:Vt}=typeof Reflect<"u"&&Reflect;X||(X=function(t){return t});Q||(Q=function(t){return t});jt||(jt=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return t.apply(e,i)});Vt||(Vt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new t(...n)});const ct=j(Array.prototype.forEach),os=j(Array.prototype.lastIndexOf),Br=j(Array.prototype.pop),Ye=j(Array.prototype.push),cs=j(Array.prototype.splice),ft=j(String.prototype.toLowerCase),Ot=j(String.prototype.toString),Mt=j(String.prototype.match),Ze=j(String.prototype.replace),us=j(String.prototype.indexOf),hs=j(String.prototype.trim),J=j(Object.prototype.hasOwnProperty),W=j(RegExp.prototype.test),Ke=fs(TypeError);function j(r){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return jt(r,t,n)}}function fs(r){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vt(r,e)}}function T(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ft;Mr&&Mr(r,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=e(i);s!==i&&(ss(t)||(t[n]=s),i=s)}r[i]=!0}return r}function ps(r){for(let t=0;t<r.length;t++)J(r,t)||(r[t]=null);return r}function ae(r){const t=Xt(null);for(const[e,n]of pi(r))J(r,e)&&(Array.isArray(n)?t[e]=ps(n):n&&typeof n=="object"&&n.constructor===Object?t[e]=ae(n):t[e]=n);return t}function Qe(r,t){for(;r!==null;){const n=ls(r,t);if(n){if(n.get)return j(n.get);if(typeof n.value=="function")return j(n.value)}r=as(r)}function e(){return null}return e}const $r=X(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bt=X(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$t=X(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),gs=X(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ht=X(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ms=X(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Hr=X(["#text"]),Ur=X(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ut=X(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fr=X(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ut=X(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ds=Q(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bs=Q(/<%[\w\W]*|[\w\W]*%>/gm),_s=Q(/\$\{[\w\W]*/gm),Ts=Q(/^data-[\-\w.\u00B7-\uFFFF]+$/),Es=Q(/^aria-[\-\w]+$/),gi=Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ks=Q(/^(?:\w+script|data):/i),ys=Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mi=Q(/^html$/i),As=Q(/^[a-z][.\w]*(-[.\w]+)+$/i);var zr=Object.freeze({__proto__:null,ARIA_ATTR:Es,ATTR_WHITESPACE:ys,CUSTOM_ELEMENT:As,DATA_ATTR:Ts,DOCTYPE_NAME:mi,ERB_EXPR:bs,IS_ALLOWED_URI:gi,IS_SCRIPT_OR_DATA:ks,MUSTACHE_EXPR:ds,TMPLIT_EXPR:_s});const Je={element:1,text:3,progressingInstruction:7,comment:8,document:9},xs=function(){return typeof window>"u"?null:window},vs=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";e&&e.hasAttribute(i)&&(n=e.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Gr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function di(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xs();const t=d=>di(d);if(t.version="3.3.1",t.removed=[],!r||!r.document||r.document.nodeType!==Je.document||!r.Element)return t.isSupported=!1,t;let{document:e}=r;const n=e,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:u,NamedNodeMap:h=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:b}=r,_=l.prototype,N=Qe(_,"cloneNode"),Y=Qe(_,"remove"),Z=Qe(_,"nextSibling"),z=Qe(_,"childNodes"),O=Qe(_,"parentNode");if(typeof a=="function"){const d=e.createElement("template");d.content&&d.content.ownerDocument&&(e=d.content.ownerDocument)}let w,B="";const{implementation:H,createNodeIterator:Ee,createDocumentFragment:oe,getElementsByTagName:ke}=e,{importNode:k}=n;let C=Gr();t.isSupported=typeof pi=="function"&&typeof O=="function"&&H&&H.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:E,ERB_EXPR:D,TMPLIT_EXPR:ce,DATA_ATTR:He,ARIA_ATTR:Ue,IS_SCRIPT_OR_DATA:Fe,ATTR_WHITESPACE:Re,CUSTOM_ELEMENT:Et}=zr;let{IS_ALLOWED_URI:ze}=zr,A=null;const it=T({},[...$r,...Bt,...$t,...Ht,...Hr]);let I=null;const ye=T({},[...Ur,...Ut,...Fr,...ut]);let S=Object.seal(Xt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),R=null,ue=null;const he=Object.seal(Xt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ge=!0,Le=!0,Ce=!1,Ae=!0,re=!1,xe=!0,fe=!1,De=!1,K=!1,G=!1,ve=!1,pe=!1,ie=!0,Ie=!1;const We="user-content-";let kt=!0,qe=!1,Pe={},ne=null;const yt=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let cr=null;const ur=T({},["audio","video","img","source","image","track"]);let At=null;const hr=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",st="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let Oe=ge,xt=!1,vt=null;const Ei=T({},[nt,st,ge],Ot);let at=T({},["mi","mo","mn","ms","mtext"]),lt=T({},["annotation-xml"]);const ki=T({},["title","style","font","a","script"]);let Xe=null;const yi=["application/xhtml+xml","text/html"],Ai="text/html";let M=null,Me=null;const xi=e.createElement("form"),fr=function(c){return c instanceof RegExp||c instanceof Function},Nt=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Me&&Me===c)){if((!c||typeof c!="object")&&(c={}),c=ae(c),Xe=yi.indexOf(c.PARSER_MEDIA_TYPE)===-1?Ai:c.PARSER_MEDIA_TYPE,M=Xe==="application/xhtml+xml"?Ot:ft,A=J(c,"ALLOWED_TAGS")?T({},c.ALLOWED_TAGS,M):it,I=J(c,"ALLOWED_ATTR")?T({},c.ALLOWED_ATTR,M):ye,vt=J(c,"ALLOWED_NAMESPACES")?T({},c.ALLOWED_NAMESPACES,Ot):Ei,At=J(c,"ADD_URI_SAFE_ATTR")?T(ae(hr),c.ADD_URI_SAFE_ATTR,M):hr,cr=J(c,"ADD_DATA_URI_TAGS")?T(ae(ur),c.ADD_DATA_URI_TAGS,M):ur,ne=J(c,"FORBID_CONTENTS")?T({},c.FORBID_CONTENTS,M):yt,R=J(c,"FORBID_TAGS")?T({},c.FORBID_TAGS,M):ae({}),ue=J(c,"FORBID_ATTR")?T({},c.FORBID_ATTR,M):ae({}),Pe=J(c,"USE_PROFILES")?c.USE_PROFILES:!1,Ge=c.ALLOW_ARIA_ATTR!==!1,Le=c.ALLOW_DATA_ATTR!==!1,Ce=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,re=c.SAFE_FOR_TEMPLATES||!1,xe=c.SAFE_FOR_XML!==!1,fe=c.WHOLE_DOCUMENT||!1,G=c.RETURN_DOM||!1,ve=c.RETURN_DOM_FRAGMENT||!1,pe=c.RETURN_TRUSTED_TYPE||!1,K=c.FORCE_BODY||!1,ie=c.SANITIZE_DOM!==!1,Ie=c.SANITIZE_NAMED_PROPS||!1,kt=c.KEEP_CONTENT!==!1,qe=c.IN_PLACE||!1,ze=c.ALLOWED_URI_REGEXP||gi,Oe=c.NAMESPACE||ge,at=c.MATHML_TEXT_INTEGRATION_POINTS||at,lt=c.HTML_INTEGRATION_POINTS||lt,S=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&fr(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(S.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&fr(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(S.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(S.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),re&&(Le=!1),ve&&(G=!0),Pe&&(A=T({},Hr),I=[],Pe.html===!0&&(T(A,$r),T(I,Ur)),Pe.svg===!0&&(T(A,Bt),T(I,Ut),T(I,ut)),Pe.svgFilters===!0&&(T(A,$t),T(I,Ut),T(I,ut)),Pe.mathMl===!0&&(T(A,Ht),T(I,Fr),T(I,ut))),c.ADD_TAGS&&(typeof c.ADD_TAGS=="function"?he.tagCheck=c.ADD_TAGS:(A===it&&(A=ae(A)),T(A,c.ADD_TAGS,M))),c.ADD_ATTR&&(typeof c.ADD_ATTR=="function"?he.attributeCheck=c.ADD_ATTR:(I===ye&&(I=ae(I)),T(I,c.ADD_ATTR,M))),c.ADD_URI_SAFE_ATTR&&T(At,c.ADD_URI_SAFE_ATTR,M),c.FORBID_CONTENTS&&(ne===yt&&(ne=ae(ne)),T(ne,c.FORBID_CONTENTS,M)),c.ADD_FORBID_CONTENTS&&(ne===yt&&(ne=ae(ne)),T(ne,c.ADD_FORBID_CONTENTS,M)),kt&&(A["#text"]=!0),fe&&T(A,["html","head","body"]),A.table&&(T(A,["tbody"]),delete R.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ke('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ke('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=c.TRUSTED_TYPES_POLICY,B=w.createHTML("")}else w===void 0&&(w=vs(b,i)),w!==null&&typeof B=="string"&&(B=w.createHTML(""));X&&X(c),Me=c}},pr=T({},[...Bt,...$t,...gs]),gr=T({},[...Ht,...ms]),vi=function(c){let p=O(c);(!p||!p.tagName)&&(p={namespaceURI:Oe,tagName:"template"});const m=ft(c.tagName),L=ft(p.tagName);return vt[c.namespaceURI]?c.namespaceURI===st?p.namespaceURI===ge?m==="svg":p.namespaceURI===nt?m==="svg"&&(L==="annotation-xml"||at[L]):!!pr[m]:c.namespaceURI===nt?p.namespaceURI===ge?m==="math":p.namespaceURI===st?m==="math"&&lt[L]:!!gr[m]:c.namespaceURI===ge?p.namespaceURI===st&&!lt[L]||p.namespaceURI===nt&&!at[L]?!1:!gr[m]&&(ki[m]||!pr[m]):!!(Xe==="application/xhtml+xml"&&vt[c.namespaceURI]):!1},se=function(c){Ye(t.removed,{element:c});try{O(c).removeChild(c)}catch{Y(c)}},Ne=function(c,p){try{Ye(t.removed,{attribute:p.getAttributeNode(c),from:p})}catch{Ye(t.removed,{attribute:null,from:p})}if(p.removeAttribute(c),c==="is")if(G||ve)try{se(p)}catch{}else try{p.setAttribute(c,"")}catch{}},mr=function(c){let p=null,m=null;if(K)c="<remove></remove>"+c;else{const P=Mt(c,/^[\r\n\t ]+/);m=P&&P[0]}Xe==="application/xhtml+xml"&&Oe===ge&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const L=w?w.createHTML(c):c;if(Oe===ge)try{p=new g().parseFromString(L,Xe)}catch{}if(!p||!p.documentElement){p=H.createDocument(Oe,"template",null);try{p.documentElement.innerHTML=xt?B:L}catch{}}const U=p.body||p.documentElement;return c&&m&&U.insertBefore(e.createTextNode(m),U.childNodes[0]||null),Oe===ge?ke.call(p,fe?"html":"body")[0]:fe?p.documentElement:U},dr=function(c){return Ee.call(c.ownerDocument||c,c,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},wt=function(c){return c instanceof f&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof h)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},br=function(c){return typeof o=="function"&&c instanceof o};function me(d,c,p){ct(d,m=>{m.call(t,c,p,Me)})}const _r=function(c){let p=null;if(me(C.beforeSanitizeElements,c,null),wt(c))return se(c),!0;const m=M(c.nodeName);if(me(C.uponSanitizeElement,c,{tagName:m,allowedTags:A}),xe&&c.hasChildNodes()&&!br(c.firstElementChild)&&W(/<[/\w!]/g,c.innerHTML)&&W(/<[/\w!]/g,c.textContent)||c.nodeType===Je.progressingInstruction||xe&&c.nodeType===Je.comment&&W(/<[/\w]/g,c.data))return se(c),!0;if(!(he.tagCheck instanceof Function&&he.tagCheck(m))&&(!A[m]||R[m])){if(!R[m]&&Er(m)&&(S.tagNameCheck instanceof RegExp&&W(S.tagNameCheck,m)||S.tagNameCheck instanceof Function&&S.tagNameCheck(m)))return!1;if(kt&&!ne[m]){const L=O(c)||c.parentNode,U=z(c)||c.childNodes;if(U&&L){const P=U.length;for(let V=P-1;V>=0;--V){const de=N(U[V],!0);de.__removalCount=(c.__removalCount||0)+1,L.insertBefore(de,Z(c))}}}return se(c),!0}return c instanceof l&&!vi(c)||(m==="noscript"||m==="noembed"||m==="noframes")&&W(/<\/no(script|embed|frames)/i,c.innerHTML)?(se(c),!0):(re&&c.nodeType===Je.text&&(p=c.textContent,ct([E,D,ce],L=>{p=Ze(p,L," ")}),c.textContent!==p&&(Ye(t.removed,{element:c.cloneNode()}),c.textContent=p)),me(C.afterSanitizeElements,c,null),!1)},Tr=function(c,p,m){if(ie&&(p==="id"||p==="name")&&(m in e||m in xi))return!1;if(!(Le&&!ue[p]&&W(He,p))){if(!(Ge&&W(Ue,p))){if(!(he.attributeCheck instanceof Function&&he.attributeCheck(p,c))){if(!I[p]||ue[p]){if(!(Er(c)&&(S.tagNameCheck instanceof RegExp&&W(S.tagNameCheck,c)||S.tagNameCheck instanceof Function&&S.tagNameCheck(c))&&(S.attributeNameCheck instanceof RegExp&&W(S.attributeNameCheck,p)||S.attributeNameCheck instanceof Function&&S.attributeNameCheck(p,c))||p==="is"&&S.allowCustomizedBuiltInElements&&(S.tagNameCheck instanceof RegExp&&W(S.tagNameCheck,m)||S.tagNameCheck instanceof Function&&S.tagNameCheck(m))))return!1}else if(!At[p]){if(!W(ze,Ze(m,Re,""))){if(!((p==="src"||p==="xlink:href"||p==="href")&&c!=="script"&&us(m,"data:")===0&&cr[c])){if(!(Ce&&!W(Fe,Ze(m,Re,"")))){if(m)return!1}}}}}}}return!0},Er=function(c){return c!=="annotation-xml"&&Mt(c,Et)},kr=function(c){me(C.beforeSanitizeAttributes,c,null);const{attributes:p}=c;if(!p||wt(c))return;const m={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0};let L=p.length;for(;L--;){const U=p[L],{name:P,namespaceURI:V,value:de}=U,Be=M(P),St=de;let $=P==="value"?St:hs(St);if(m.attrName=Be,m.attrValue=$,m.keepAttr=!0,m.forceKeepAttr=void 0,me(C.uponSanitizeAttribute,c,m),$=m.attrValue,Ie&&(Be==="id"||Be==="name")&&(Ne(P,c),$=We+$),xe&&W(/((--!?|])>)|<\/(style|title|textarea)/i,$)){Ne(P,c);continue}if(Be==="attributename"&&Mt($,"href")){Ne(P,c);continue}if(m.forceKeepAttr)continue;if(!m.keepAttr){Ne(P,c);continue}if(!Ae&&W(/\/>/i,$)){Ne(P,c);continue}re&&ct([E,D,ce],Ar=>{$=Ze($,Ar," ")});const yr=M(c.nodeName);if(!Tr(yr,Be,$)){Ne(P,c);continue}if(w&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!V)switch(b.getAttributeType(yr,Be)){case"TrustedHTML":{$=w.createHTML($);break}case"TrustedScriptURL":{$=w.createScriptURL($);break}}if($!==St)try{V?c.setAttributeNS(V,P,$):c.setAttribute(P,$),wt(c)?se(c):Br(t.removed)}catch{Ne(P,c)}}me(C.afterSanitizeAttributes,c,null)},Ni=function d(c){let p=null;const m=dr(c);for(me(C.beforeSanitizeShadowDOM,c,null);p=m.nextNode();)me(C.uponSanitizeShadowNode,p,null),_r(p),kr(p),p.content instanceof s&&d(p.content);me(C.afterSanitizeShadowDOM,c,null)};return t.sanitize=function(d){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=null,m=null,L=null,U=null;if(xt=!d,xt&&(d="<!-->"),typeof d!="string"&&!br(d))if(typeof d.toString=="function"){if(d=d.toString(),typeof d!="string")throw Ke("dirty is not a string, aborting")}else throw Ke("toString is not a function");if(!t.isSupported)return d;if(De||Nt(c),t.removed=[],typeof d=="string"&&(qe=!1),qe){if(d.nodeName){const de=M(d.nodeName);if(!A[de]||R[de])throw Ke("root node is forbidden and cannot be sanitized in-place")}}else if(d instanceof o)p=mr("<!---->"),m=p.ownerDocument.importNode(d,!0),m.nodeType===Je.element&&m.nodeName==="BODY"||m.nodeName==="HTML"?p=m:p.appendChild(m);else{if(!G&&!re&&!fe&&d.indexOf("<")===-1)return w&&pe?w.createHTML(d):d;if(p=mr(d),!p)return G?null:pe?B:""}p&&K&&se(p.firstChild);const P=dr(qe?d:p);for(;L=P.nextNode();)_r(L),kr(L),L.content instanceof s&&Ni(L.content);if(qe)return d;if(G){if(ve)for(U=oe.call(p.ownerDocument);p.firstChild;)U.appendChild(p.firstChild);else U=p;return(I.shadowroot||I.shadowrootmode)&&(U=k.call(n,U,!0)),U}let V=fe?p.outerHTML:p.innerHTML;return fe&&A["!doctype"]&&p.ownerDocument&&p.ownerDocument.doctype&&p.ownerDocument.doctype.name&&W(mi,p.ownerDocument.doctype.name)&&(V="<!DOCTYPE "+p.ownerDocument.doctype.name+`>
`+V),re&&ct([E,D,ce],de=>{V=Ze(V,de," ")}),w&&pe?w.createHTML(V):V},t.setConfig=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Nt(d),De=!0},t.clearConfig=function(){Me=null,De=!1},t.isValidAttribute=function(d,c,p){Me||Nt({});const m=M(d),L=M(c);return Tr(m,L,p)},t.addHook=function(d,c){typeof c=="function"&&Ye(C[d],c)},t.removeHook=function(d,c){if(c!==void 0){const p=os(C[d],c);return p===-1?void 0:cs(C[d],p,1)[0]}return Br(C[d])},t.removeHooks=function(d){C[d]=[]},t.removeAllHooks=function(){C=Gr()},t}var Ns=di();const ws=new bn,Ss=new es;function Rs(r){return ws.convert(r).content}function bi(r){return Ss.convert(r).content}const Ls=100;function Cs(r){try{const n=new DOMParser().parseFromString(r,"text/html").cloneNode(!0),s=new ns.Readability(n,{charThreshold:500,keepClasses:!1}).parse();return!s||!s.content||s.content.length<Ls?null:{title:s.title||"",content:Ns.sanitize(s.content),textContent:s.textContent||void 0,excerpt:s.excerpt||void 0,byline:s.byline||void 0,siteName:s.siteName||void 0,publishedTime:s.publishedTime||void 0}}catch{return null}}const _e=document.getElementById("html-pane"),$e=document.getElementById("md-pane"),Ft=document.getElementById("preview"),_i=document.getElementById("extract-content"),Ds=document.querySelectorAll(".copy-btn");let le=!1;function lr(r,t){let e;return((...n)=>{clearTimeout(e),e=setTimeout(()=>r(...n),t)})}function or(){if(le)return;const r=_e.value.trim();if(!r){le=!0,$e.value="",le=!1;return}try{le=!0;let t=r;if(_i.checked){const n=Cs(r);n&&n.content&&(t=n.content)}const e=Rs(t);$e.value=e,Ti()}catch(t){const e=t instanceof Error?t.message:"Conversion error";$e.value=`Error: ${e}`}finally{le=!1}}function Is(){if(le)return;const r=$e.value.trim();if(!r){le=!0,_e.value="",le=!1;return}try{le=!0;const t=bi(r);_e.value=t}catch(t){const e=t instanceof Error?t.message:"Conversion error";_e.value=`Error: ${e}`}finally{le=!1}}function Ti(){const r=$e.value.trim();if(!r){Ft.innerHTML='<p class="preview-placeholder">Rendered Markdown will appear here...</p>';return}try{const t=bi(r);Ft.innerHTML=t}catch(t){const e=t instanceof Error?t.message:"Preview error";Ft.innerHTML=`<p class="preview-error">Error: ${e}</p>`}}const Ps=lr(or,300),Os=lr(Is,300),Ms=lr(Ti,300);function Bs(r){const t=r.clipboardData;if(!t)return;const e=t.getData("text/html");e&&e.trim()&&(r.preventDefault(),_e.value=e,or())}async function $s(r){const t=r.currentTarget,e=t.dataset.target;if(!e)return;const n=document.getElementById(e),i=n.value;if(i)try{await navigator.clipboard.writeText(i),Wr(t)}catch{n.select(),document.execCommand("copy"),Wr(t)}}function Wr(r){const t=r.textContent;r.textContent="Copied!",r.disabled=!0,setTimeout(()=>{r.textContent=t,r.disabled=!1},1500)}_e.addEventListener("input",Ps);_e.addEventListener("paste",Bs);$e.addEventListener("input",()=>{Os(),Ms()});Ds.forEach(r=>{r.addEventListener("click",$s)});_i.addEventListener("change",()=>{_e.value.trim()&&or()});
