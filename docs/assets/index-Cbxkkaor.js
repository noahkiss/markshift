var xi=Object.defineProperty;var vi=(i,t,e)=>t in i?xi(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var y=(i,t,e)=>vi(i,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();function Ni(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n])}return i}function Ft(i,t){return Array(t+1).join(i)}function Gr(i){return i.replace(/^\n*/,"")}function Wr(i){for(var t=i.length;t>0&&i[t-1]===`
`;)t--;return i.substring(0,t)}function qr(i){return Wr(Gr(i))}var wi=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Vt(i){return Yt(i,wi)}var Xr=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function jr(i){return Yt(i,Xr)}function Si(i){return Yr(i,Xr)}var Vr=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Ri(i){return Yt(i,Vr)}function Li(i){return Yr(i,Vr)}function Yt(i,t){return t.indexOf(i.nodeName)>=0}function Yr(i,t){return i.getElementsByTagName&&t.some(function(e){return i.getElementsByTagName(e).length})}var F={};F.paragraph={filter:"p",replacement:function(i){return`

`+i+`

`}};F.lineBreak={filter:"br",replacement:function(i,t,e){return e.br+`
`}};F.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(i,t,e){var n=Number(t.nodeName.charAt(1));if(e.headingStyle==="setext"&&n<3){var r=Ft(n===1?"=":"-",i.length);return`

`+i+`
`+r+`

`}else return`

`+Ft("#",n)+" "+i+`

`}};F.blockquote={filter:"blockquote",replacement:function(i){return i=qr(i).replace(/^/gm,"> "),`

`+i+`

`}};F.list={filter:["ul","ol"],replacement:function(i,t){var e=t.parentNode;return e.nodeName==="LI"&&e.lastElementChild===t?`
`+i:`

`+i+`

`}};F.listItem={filter:"li",replacement:function(i,t,e){var n=e.bulletListMarker+"   ",r=t.parentNode;if(r.nodeName==="OL"){var s=r.getAttribute("start"),a=Array.prototype.indexOf.call(r.children,t);n=(s?Number(s)+a:a+1)+".  "}var o=/\n$/.test(i);return i=qr(i)+(o?`
`:""),i=i.replace(/\n/gm,`
`+" ".repeat(n.length)),n+i+(t.nextSibling?`
`:"")}};F.indentedCodeBlock={filter:function(i,t){return t.codeBlockStyle==="indented"&&i.nodeName==="PRE"&&i.firstChild&&i.firstChild.nodeName==="CODE"},replacement:function(i,t,e){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};F.fencedCodeBlock={filter:function(i,t){return t.codeBlockStyle==="fenced"&&i.nodeName==="PRE"&&i.firstChild&&i.firstChild.nodeName==="CODE"},replacement:function(i,t,e){for(var n=t.firstChild.getAttribute("class")||"",r=(n.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,a=e.fence.charAt(0),o=3,l=new RegExp("^"+a+"{3,}","gm"),u;u=l.exec(s);)u[0].length>=o&&(o=u[0].length+1);var h=Ft(a,o);return`

`+h+r+`
`+s.replace(/\n$/,"")+`
`+h+`

`}};F.horizontalRule={filter:"hr",replacement:function(i,t,e){return`

`+e.hr+`

`}};F.inlineLink={filter:function(i,t){return t.linkStyle==="inlined"&&i.nodeName==="A"&&i.getAttribute("href")},replacement:function(i,t){var e=t.getAttribute("href");e&&(e=e.replace(/([()])/g,"\\$1"));var n=pt(t.getAttribute("title"));return n&&(n=' "'+n.replace(/"/g,'\\"')+'"'),"["+i+"]("+e+n+")"}};F.referenceLink={filter:function(i,t){return t.linkStyle==="referenced"&&i.nodeName==="A"&&i.getAttribute("href")},replacement:function(i,t,e){var n=t.getAttribute("href"),r=pt(t.getAttribute("title"));r&&(r=' "'+r+'"');var s,a;switch(e.linkReferenceStyle){case"collapsed":s="["+i+"][]",a="["+i+"]: "+n+r;break;case"shortcut":s="["+i+"]",a="["+i+"]: "+n+r;break;default:var o=this.references.length+1;s="["+i+"]["+o+"]",a="["+o+"]: "+n+r}return this.references.push(a),s},references:[],append:function(i){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};F.emphasis={filter:["em","i"],replacement:function(i,t,e){return i.trim()?e.emDelimiter+i+e.emDelimiter:""}};F.strong={filter:["strong","b"],replacement:function(i,t,e){return i.trim()?e.strongDelimiter+i+e.strongDelimiter:""}};F.code={filter:function(i){var t=i.previousSibling||i.nextSibling,e=i.parentNode.nodeName==="PRE"&&!t;return i.nodeName==="CODE"&&!e},replacement:function(i){if(!i)return"";i=i.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(i)?" ":"",e="`",n=i.match(/`+/gm)||[];n.indexOf(e)!==-1;)e=e+"`";return e+t+i+t+e}};F.image={filter:"img",replacement:function(i,t){var e=pt(t.getAttribute("alt")),n=t.getAttribute("src")||"",r=pt(t.getAttribute("title")),s=r?' "'+r+'"':"";return n?"!["+e+"]("+n+s+")":""}};function pt(i){return i?i.replace(/(\n+\s*)+/g,`
`):""}function Zr(i){this.options=i,this._keep=[],this._remove=[],this.blankRule={replacement:i.blankReplacement},this.keepReplacement=i.keepReplacement,this.defaultRule={replacement:i.defaultReplacement},this.array=[];for(var t in i.rules)this.array.push(i.rules[t])}Zr.prototype={add:function(i,t){this.array.unshift(t)},keep:function(i){this._keep.unshift({filter:i,replacement:this.keepReplacement})},remove:function(i){this._remove.unshift({filter:i,replacement:function(){return""}})},forNode:function(i){if(i.isBlank)return this.blankRule;var t;return(t=Rt(this.array,i,this.options))||(t=Rt(this._keep,i,this.options))||(t=Rt(this._remove,i,this.options))?t:this.defaultRule},forEach:function(i){for(var t=0;t<this.array.length;t++)i(this.array[t],t)}};function Rt(i,t,e){for(var n=0;n<i.length;n++){var r=i[n];if(Ci(r,t,e))return r}}function Ci(i,t,e){var n=i.filter;if(typeof n=="string"){if(n===t.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof n=="function"){if(n.call(i,t,e))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Di(i){var t=i.element,e=i.isBlock,n=i.isVoid,r=i.isPre||function(f){return f.nodeName==="PRE"};if(!(!t.firstChild||r(t))){for(var s=null,a=!1,o=null,l=yr(o,t,r);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!a&&u[0]===" "&&(u=u.substr(1)),!u){l=Lt(l);continue}l.data=u,s=l}else if(l.nodeType===1)e(l)||l.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,a=!1):n(l)||r(l)?(s=null,a=!0):s&&(a=!1);else{l=Lt(l);continue}var h=yr(o,l,r);o=l,l=h}s&&(s.data=s.data.replace(/ $/,""),s.data||Lt(s))}}function Lt(i){var t=i.nextSibling||i.parentNode;return i.parentNode.removeChild(i),t}function yr(i,t,e){return i&&i.parentNode===t||e(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var Zt=typeof window<"u"?window:{};function Ii(){var i=Zt.DOMParser,t=!1;try{new i().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Pi(){var i=function(){};return Oi()?i.prototype.parseFromString=function(t){var e=new window.ActiveXObject("htmlfile");return e.designMode="on",e.open(),e.write(t),e.close(),e}:i.prototype.parseFromString=function(t){var e=document.implementation.createHTMLDocument("");return e.open(),e.write(t),e.close(),e},i}function Oi(){var i=!1;try{document.implementation.createHTMLDocument("").open()}catch{Zt.ActiveXObject&&(i=!0)}return i}var Mi=Ii()?Zt.DOMParser:Pi();function Bi(i,t){var e;if(typeof i=="string"){var n=$i().parseFromString('<x-turndown id="turndown-root">'+i+"</x-turndown>","text/html");e=n.getElementById("turndown-root")}else e=i.cloneNode(!0);return Di({element:e,isBlock:Vt,isVoid:jr,isPre:t.preformattedCode?Hi:null}),e}var Ct;function $i(){return Ct=Ct||new Mi,Ct}function Hi(i){return i.nodeName==="PRE"||i.nodeName==="CODE"}function Ui(i,t){return i.isBlock=Vt(i),i.isCode=i.nodeName==="CODE"||i.parentNode.isCode,i.isBlank=Fi(i),i.flankingWhitespace=zi(i,t),i}function Fi(i){return!jr(i)&&!Ri(i)&&/^\s*$/i.test(i.textContent)&&!Si(i)&&!Li(i)}function zi(i,t){if(i.isBlock||t.preformattedCode&&i.isCode)return{leading:"",trailing:""};var e=Gi(i.textContent);return e.leadingAscii&&Ar("left",i,t)&&(e.leading=e.leadingNonAscii),e.trailingAscii&&Ar("right",i,t)&&(e.trailing=e.trailingNonAscii),{leading:e.leading,trailing:e.trailing}}function Gi(i){var t=i.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function Ar(i,t,e){var n,r,s;return i==="left"?(n=t.previousSibling,r=/ $/):(n=t.nextSibling,r=/^ /),n&&(n.nodeType===3?s=r.test(n.nodeValue):e.preformattedCode&&n.nodeName==="CODE"?s=!1:n.nodeType===1&&!Vt(n)&&(s=r.test(n.textContent))),s}var Wi=Array.prototype.reduce,qi=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function gt(i){if(!(this instanceof gt))return new gt(i);var t={rules:F,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,n){return n.isBlock?`

`:""},keepReplacement:function(e,n){return n.isBlock?`

`+n.outerHTML+`

`:n.outerHTML},defaultReplacement:function(e,n){return n.isBlock?`

`+e+`

`:e}};this.options=Ni({},t,i),this.rules=new Zr(this.options)}gt.prototype={turndown:function(i){if(!Vi(i))throw new TypeError(i+" is not a string, or an element/document/fragment node.");if(i==="")return"";var t=Kr.call(this,new Bi(i,this.options));return Xi.call(this,t)},use:function(i){if(Array.isArray(i))for(var t=0;t<i.length;t++)this.use(i[t]);else if(typeof i=="function")i(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(i,t){return this.rules.add(i,t),this},keep:function(i){return this.rules.keep(i),this},remove:function(i){return this.rules.remove(i),this},escape:function(i){return qi.reduce(function(t,e){return t.replace(e[0],e[1])},i)}};function Kr(i){var t=this;return Wi.call(i.childNodes,function(e,n){n=new Ui(n,t.options);var r="";return n.nodeType===3?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):n.nodeType===1&&(r=ji.call(t,n)),Qr(e,r)},"")}function Xi(i){var t=this;return this.rules.forEach(function(e){typeof e.append=="function"&&(i=Qr(i,e.append(t.options)))}),i.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function ji(i){var t=this.rules.forNode(i),e=Kr.call(this,i),n=i.flankingWhitespace;return(n.leading||n.trailing)&&(e=e.trim()),n.leading+t.replacement(e,i,this.options)+n.trailing}function Qr(i,t){var e=Wr(i),n=Gr(t),r=Math.max(i.length-e.length,t.length-n.length),s=`

`.substring(0,r);return e+s+n}function Vi(i){return i!=null&&(typeof i=="string"||i.nodeType&&(i.nodeType===1||i.nodeType===9||i.nodeType===11))}var xr=/highlight-(?:(?:text|source)-)?([a-z0-9]+)/;function Yi(i){i.addRule("highlightedCodeBlock",{filter:function(t){var e=t.firstChild;return t.nodeName==="DIV"&&xr.test(t.className)&&e&&e.nodeName==="PRE"},replacement:function(t,e,n){var r=e.className||"",s=(r.match(xr)||[null,""])[1];return`

`+n.fence+s+`
`+e.firstChild.textContent+`
`+n.fence+`

`}})}function Zi(i){i.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~~"+t+"~~"}})}var Te={};function Ki(i){if(!i)return"   ";let t=i.trim().replace(/\s+/g," ").replace(/\|/g,"\\|").replace(/\\/g,"\\\\").replace(/\n+/g," ").replace(/\r+/g," ");return!t||t.match(/^\s*$/)?"   ":(t.length<3&&(t+=" ".repeat(3-t.length)),t)}function Qi(i,t,e){e===null&&t&&t.parentNode&&(e=Array.prototype.indexOf.call(t.parentNode.childNodes,t)),e===null&&(e=0);var n=" ";e===0&&(n="| ");let r=Ki(i),s=1;t&&t.getAttribute&&(s=parseInt(t.getAttribute("colspan")||"1",10),(isNaN(s)||s<1)&&(s=1));let a=n+r+" |";for(let o=1;o<s;o++)a+="   |";return a}function Ji(i){if(!i||!i.parentNode)return!1;var t=i.parentNode;if(t.nodeName==="THEAD")return!0;if(t.firstChild===i&&(t.nodeName==="TABLE"||t.nodeName==="TBODY")){var e=Array.prototype.filter.call(i.childNodes,function(n){return n.nodeType===1});return e.length===0?!1:Array.prototype.every.call(e,function(n){return n.nodeName==="TH"})}return!1}function en(i){if(!i||!i.rows)return 0;let t=0;for(let e=0;e<i.rows.length;e++){const n=i.rows[e];if(!n||!n.childNodes)continue;let r=0;for(let s=0;s<n.childNodes.length;s++){const a=n.childNodes[s];if(a.nodeType===1&&(a.nodeName==="TD"||a.nodeName==="TH")){const o=parseInt(a.getAttribute("colspan")||"1",10);r+=isNaN(o)?1:Math.max(1,o)}}r>t&&(t=r)}return t}function tn(i){if(!i||!i.rows||i.rows.length===0)return!0;let t=0,e=0;for(let n=0;n<i.rows.length;n++){const r=i.rows[n];if(!(!r||!r.childNodes))for(let s=0;s<r.childNodes.length;s++){const a=r.childNodes[s];a.nodeType===1&&(a.nodeName==="TD"||a.nodeName==="TH")&&(e++,a.textContent&&a.textContent.trim()&&t++)}}return e===0||e===1&&t===0}Te.tableCell={filter:["th","td"],replacement:function(i,t){return Qi(i,t,null)}};Te.tableRow={filter:"tr",replacement:function(i,t){if(!i||!i.trim())return"";var e="";if(Ji(t)){const r=t.closest("table");if(r){const s=en(r);if(s>0)for(var n=0;n<s;n++)e+=(n===0?"| ":" ")+"--- |"}}return`
`+i+(e?`
`+e:"")}};Te.table={filter:"table",replacement:function(i,t){if(tn(t)||(i=i.replace(/\n+/g,`
`).trim(),!i))return"";const e=i.split(`
`).filter(s=>s.trim());if(e.length===0)return"";const n=e.length>=2&&/\|\s*-+/.test(e[1]);let r=e.join(`
`);if(!n&&e.length>=1){const a=(e[0].match(/\|/g)||[]).length-1;if(a>0){let o="|";for(let u=0;u<a;u++)o+=" --- |";r=[e[0],o,...e.slice(1)].join(`
`)}}return`

`+r+`

`}};Te.tableSection={filter:["thead","tbody","tfoot"],replacement:function(i){return i}};Te.tableCaption={filter:["caption"],replacement:function(){return""}};Te.tableColgroup={filter:["colgroup","col"],replacement:function(){return""}};function rn(i){for(var t in Te)i.addRule(t,Te[t])}function nn(i){i.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,e){return(e.checked?"[x]":"[ ]")+" "}})}function sn(i){i.use([Yi,Zi,rn,nn])}const an=[/\blang(?:uage)?-([a-z0-9_+-]+)\b/i,/\bhighlight-source-([a-z0-9_+-]+)\b/i,/\bhljs\s+([a-z0-9_+-]+)\b/i,/\bsourceCode\s+([a-z0-9_+-]+)\b/i];function ln(i){const t=[i,i.parentElement].filter(e=>e!==null);for(const e of t){const n=e.className||"";for(const r of an){const s=n.match(r);if(s?.[1])return s[1].toLowerCase()}}return""}function on(i){i.addRule("fencedCodeBlockWithLanguage",{filter:(t,e)=>e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild!==null&&t.firstChild.nodeName==="CODE",replacement:(t,e,n)=>{const r=e.firstChild,s=ln(r),a=n.fence||"```",o=r.textContent||"";return`

${a}${s}
${o}
${a}

`}})}function cn(i){if(i.nodeName!=="DIV")return!1;if(i.getAttribute("role")==="table"||i.getAttribute("data-table")!==null)return!0;const t=i.getAttribute("style");return!!(t&&t.includes("display:")&&t.includes("table"))}function un(i){const t=Array.from(i.querySelectorAll('[role="row"]'));if(t.length>0)return t;const e=Array.from(i.querySelectorAll("[data-row]"));return e.length>0?e:[]}function hn(i){const t=['[role="cell"]','[role="columnheader"]','[role="rowheader"]',"[data-cell]"];for(const e of t){const n=Array.from(i.querySelectorAll(e));if(n.length>0)return n}return Array.from(i.children).filter(e=>e.nodeName==="DIV"||e.nodeName==="SPAN"||e.getAttribute("role")==="cell"||e.getAttribute("role")==="columnheader")}function fn(i){return(i.textContent||"").trim().replace(/\|/g,"\\|")}function pn(i){i.addRule("semanticTable",{filter:t=>cn(t),replacement:(t,e)=>{const r=un(e);if(r.length<2)return t;const s=[];for(const u of r){const f=hn(u).map(fn);f.length>0&&s.push(f)}if(s.length<2)return t;const a=s[0],o=a.length,l=[];l.push("| "+a.join(" | ")+" |"),l.push("| "+Array(o).fill("---").join(" | ")+" |");for(let u=1;u<s.length;u++){const h=s[u];for(;h.length<o;)h.push("");l.push("| "+h.join(" | ")+" |")}return`

`+l.join(`
`)+`

`}})}class gn{constructor(){y(this,"sourceFormat","html");y(this,"targetFormat","markdown");y(this,"turndown");this.turndown=new gt({headingStyle:"atx",codeBlockStyle:"fenced",fence:"```",emDelimiter:"_",strongDelimiter:"**",bulletListMarker:"-",linkStyle:"inlined"}),this.turndown.use(sn),on(this.turndown),pn(this.turndown)}convert(t,e){const n=performance.now(),r=this.turndown.turndown(t),s=performance.now()-n;return{content:r,metadata:{sourceFormat:this.sourceFormat,targetFormat:this.targetFormat,processingTimeMs:s}}}}function Kt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Se=Kt();function Jr(i){Se=i}var et={exec:()=>null};function x(i,t=""){let e=typeof i=="string"?i:i.source,n={replace:(r,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(q.caret,"$1"),e=e.replace(r,a),n},getRegex:()=>new RegExp(e,t)};return n}var mn=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),q={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:i=>new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}#`),htmlBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}<(?:[a-z].*>|!--)`,"i")},dn=/^(?:[ \t]*(?:\n|$))+/,bn=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,_n=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,rt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Tn=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Qt=/(?:[*+-]|\d{1,9}[.)])/,ei=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ti=x(ei).replace(/bull/g,Qt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),En=x(ei).replace(/bull/g,Qt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Jt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,kn=/^[^\n]+/,er=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,yn=x(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",er).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),An=x(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Qt).getRegex(),_t="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",tr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,xn=x("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",tr).replace("tag",_t).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ri=x(Jt).replace("hr",rt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex(),vn=x(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ri).getRegex(),rr={blockquote:vn,code:bn,def:yn,fences:_n,heading:Tn,hr:rt,html:xn,lheading:ti,list:An,newline:dn,paragraph:ri,table:et,text:kn},vr=x("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",rt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex(),Nn={...rr,lheading:En,table:vr,paragraph:x(Jt).replace("hr",rt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",vr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex()},wn={...rr,html:x(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",tr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:et,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:x(Jt).replace("hr",rt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ti).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Sn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Rn=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ii=/^( {2,}|\\)\n(?!\s*$)/,Ln=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Tt=/[\p{P}\p{S}]/u,ir=/[\s\p{P}\p{S}]/u,ni=/[^\s\p{P}\p{S}]/u,Cn=x(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ir).getRegex(),si=/(?!~)[\p{P}\p{S}]/u,Dn=/(?!~)[\s\p{P}\p{S}]/u,In=/(?:[^\s\p{P}\p{S}]|~)/u,Pn=x(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",mn?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ai=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,On=x(ai,"u").replace(/punct/g,Tt).getRegex(),Mn=x(ai,"u").replace(/punct/g,si).getRegex(),li="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Bn=x(li,"gu").replace(/notPunctSpace/g,ni).replace(/punctSpace/g,ir).replace(/punct/g,Tt).getRegex(),$n=x(li,"gu").replace(/notPunctSpace/g,In).replace(/punctSpace/g,Dn).replace(/punct/g,si).getRegex(),Hn=x("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ni).replace(/punctSpace/g,ir).replace(/punct/g,Tt).getRegex(),Un=x(/\\(punct)/,"gu").replace(/punct/g,Tt).getRegex(),Fn=x(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),zn=x(tr).replace("(?:-->|$)","-->").getRegex(),Gn=x("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",zn).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),mt=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Wn=x(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",mt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),oi=x(/^!?\[(label)\]\[(ref)\]/).replace("label",mt).replace("ref",er).getRegex(),ci=x(/^!?\[(ref)\](?:\[\])?/).replace("ref",er).getRegex(),qn=x("reflink|nolink(?!\\()","g").replace("reflink",oi).replace("nolink",ci).getRegex(),Nr=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,nr={_backpedal:et,anyPunctuation:Un,autolink:Fn,blockSkip:Pn,br:ii,code:Rn,del:et,emStrongLDelim:On,emStrongRDelimAst:Bn,emStrongRDelimUnd:Hn,escape:Sn,link:Wn,nolink:ci,punctuation:Cn,reflink:oi,reflinkSearch:qn,tag:Gn,text:Ln,url:et},Xn={...nr,link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",mt).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mt).getRegex()},zt={...nr,emStrongRDelimAst:$n,emStrongLDelim:Mn,url:x(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Nr).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:x(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Nr).getRegex()},jn={...zt,br:x(ii).replace("{2,}","*").getRegex(),text:x(zt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ot={normal:rr,gfm:Nn,pedantic:wn},Xe={normal:nr,gfm:zt,breaks:jn,pedantic:Xn},Vn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wr=i=>Vn[i];function be(i,t){if(t){if(q.escapeTest.test(i))return i.replace(q.escapeReplace,wr)}else if(q.escapeTestNoEncode.test(i))return i.replace(q.escapeReplaceNoEncode,wr);return i}function Sr(i){try{i=encodeURI(i).replace(q.percentDecode,"%")}catch{return null}return i}function Rr(i,t){let e=i.replace(q.findPipe,(s,a,o)=>{let l=!1,u=a;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=e.split(q.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(q.slashPipe,"|");return n}function je(i,t,e){let n=i.length;if(n===0)return"";let r=0;for(;r<n&&i.charAt(n-r-1)===t;)r++;return i.slice(0,n-r)}function Yn(i,t){if(i.indexOf(t[1])===-1)return-1;let e=0;for(let n=0;n<i.length;n++)if(i[n]==="\\")n++;else if(i[n]===t[0])e++;else if(i[n]===t[1]&&(e--,e<0))return n;return e>0?-2:-1}function Lr(i,t,e,n,r){let s=t.href,a=t.title||null,o=i[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:i[0].charAt(0)==="!"?"image":"link",raw:e,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function Zn(i,t,e){let n=i.match(e.other.indentCodeCompensation);if(n===null)return t;let r=n[1];return t.split(`
`).map(s=>{let a=s.match(e.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=r.length?s.slice(r.length):s}).join(`
`)}var dt=class{constructor(i){y(this,"options");y(this,"rules");y(this,"lexer");this.options=i||Se}space(i){let t=this.rules.block.newline.exec(i);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(i){let t=this.rules.block.code.exec(i);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:je(e,`
`)}}}fences(i){let t=this.rules.block.fences.exec(i);if(t){let e=t[0],n=Zn(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(i){let t=this.rules.block.heading.exec(i);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let n=je(e,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(e=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(i){let t=this.rules.block.hr.exec(i);if(t)return{type:"hr",raw:je(t[0],`
`)}}blockquote(i){let t=this.rules.block.blockquote.exec(i);if(t){let e=je(t[0],`
`).split(`
`),n="",r="",s=[];for(;e.length>0;){let a=!1,o=[],l;for(l=0;l<e.length;l++)if(this.rules.other.blockquoteStart.test(e[l]))o.push(e[l]),a=!0;else if(!a)o.push(e[l]);else break;e=e.slice(l);let u=o.join(`
`),h=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${u}`:u,r=r?`${r}
${h}`:h;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,s,!0),this.lexer.state.top=f,e.length===0)break;let g=s.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let b=g,_=b.raw+`
`+e.join(`
`),N=this.blockquote(_);s[s.length-1]=N,n=n.substring(0,n.length-b.raw.length)+N.raw,r=r.substring(0,r.length-b.text.length)+N.text;break}else if(g?.type==="list"){let b=g,_=b.raw+`
`+e.join(`
`),N=this.list(_);s[s.length-1]=N,n=n.substring(0,n.length-g.raw.length)+N.raw,r=r.substring(0,r.length-b.raw.length)+N.raw,e=_.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:r}}}list(i){let t=this.rules.block.list.exec(i);if(t){let e=t[1].trim(),n=e.length>1,r={type:"list",raw:"",ordered:n,start:n?+e.slice(0,-1):"",loose:!1,items:[]};e=n?`\\d{1,9}\\${e.slice(-1)}`:`\\${e}`,this.options.pedantic&&(e=n?e:"[*+-]");let s=this.rules.other.listItemRegex(e),a=!1;for(;i;){let l=!1,u="",h="";if(!(t=s.exec(i))||this.rules.block.hr.test(i))break;u=t[0],i=i.substring(u.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,N=>" ".repeat(3*N.length)),g=i.split(`
`,1)[0],b=!f.trim(),_=0;if(this.options.pedantic?(_=2,h=f.trimStart()):b?_=t[1].length+1:(_=t[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,h=f.slice(_),_+=t[1].length),b&&this.rules.other.blankLine.test(g)&&(u+=g+`
`,i=i.substring(g.length+1),l=!0),!l){let N=this.rules.other.nextBulletRegex(_),Y=this.rules.other.hrRegex(_),Z=this.rules.other.fencesBeginRegex(_),z=this.rules.other.headingBeginRegex(_),O=this.rules.other.htmlBeginRegex(_);for(;i;){let w=i.split(`
`,1)[0],B;if(g=w,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),B=g):B=g.replace(this.rules.other.tabCharGlobal,"    "),Z.test(g)||z.test(g)||O.test(g)||N.test(g)||Y.test(g))break;if(B.search(this.rules.other.nonSpaceChar)>=_||!g.trim())h+=`
`+B.slice(_);else{if(b||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Z.test(f)||z.test(f)||Y.test(f))break;h+=`
`+g}!b&&!g.trim()&&(b=!0),u+=w+`
`,i=i.substring(w.length+1),f=B.slice(_)}}r.loose||(a?r.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0)),r.items.push({type:"list_item",raw:u,task:!!this.options.gfm&&this.rules.other.listIsTask.test(h),loose:!1,text:h,tokens:[]}),r.raw+=u}let o=r.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let l of r.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,""),l.tokens[0]?.type==="text"||l.tokens[0]?.type==="paragraph"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let h=this.lexer.inlineQueue.length-1;h>=0;h--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[h].src)){this.lexer.inlineQueue[h].src=this.lexer.inlineQueue[h].src.replace(this.rules.other.listReplaceTask,"");break}}let u=this.rules.other.listTaskCheckbox.exec(l.raw);if(u){let h={type:"checkbox",raw:u[0]+" ",checked:u[0]!=="[ ]"};l.checked=h.checked,r.loose?l.tokens[0]&&["paragraph","text"].includes(l.tokens[0].type)&&"tokens"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=h.raw+l.tokens[0].raw,l.tokens[0].text=h.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(h)):l.tokens.unshift({type:"paragraph",raw:h.raw,text:h.raw,tokens:[h]}):l.tokens.unshift(h)}}if(!r.loose){let u=l.tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>this.rules.other.anyLine.test(f.raw));r.loose=h}}if(r.loose)for(let l of r.items){l.loose=!0;for(let u of l.tokens)u.type==="text"&&(u.type="paragraph")}return r}}html(i){let t=this.rules.block.html.exec(i);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(i){let t=this.rules.block.def.exec(i);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(i){let t=this.rules.block.table.exec(i);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let e=Rr(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(e.length===n.length){for(let a of n)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<e.length;a++)s.header.push({text:e[a],tokens:this.lexer.inline(e[a]),header:!0,align:s.align[a]});for(let a of r)s.rows.push(Rr(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(i){let t=this.rules.block.lheading.exec(i);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(i){let t=this.rules.block.paragraph.exec(i);if(t){let e=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(i){let t=this.rules.block.text.exec(i);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(i){let t=this.rules.inline.escape.exec(i);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(i){let t=this.rules.inline.tag.exec(i);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(i){let t=this.rules.inline.link.exec(i);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let s=je(e.slice(0,-1),"\\");if((e.length-s.length)%2===0)return}else{let s=Yn(t[2],"()");if(s===-2)return;if(s>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],r=s[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n=n.slice(1):n=n.slice(1,-1)),Lr(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(i,t){let e;if((e=this.rules.inline.reflink.exec(i))||(e=this.rules.inline.nolink.exec(i))){let n=(e[2]||e[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[n.toLowerCase()];if(!r){let s=e[0].charAt(0);return{type:"text",raw:s,text:s}}return Lr(e,r,e[0],this.lexer,this.rules)}}emStrong(i,t,e=""){let n=this.rules.inline.emStrongLDelim.exec(i);if(!(!n||n[3]&&e.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!e||this.rules.inline.punctuation.exec(e))){let r=[...n[0]].length-1,s,a,o=r,l=0,u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*i.length+r);(n=u.exec(t))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(a=[...s].length,n[3]||n[4]){o+=a;continue}else if((n[5]||n[6])&&r%3&&!((r+a)%3)){l+=a;continue}if(o-=a,o>0)continue;a=Math.min(a,a+o+l);let h=[...n[0]][0].length,f=i.slice(0,r+n.index+h+a);if(Math.min(r,a)%2){let b=f.slice(1,-1);return{type:"em",raw:f,text:b,tokens:this.lexer.inlineTokens(b)}}let g=f.slice(2,-2);return{type:"strong",raw:f,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(i){let t=this.rules.inline.code.exec(i);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(i){let t=this.rules.inline.br.exec(i);if(t)return{type:"br",raw:t[0]}}del(i){let t=this.rules.inline.del.exec(i);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(i){let t=this.rules.inline.autolink.exec(i);if(t){let e,n;return t[2]==="@"?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(i){let t;if(t=this.rules.inline.url.exec(i)){let e,n;if(t[2]==="@")e=t[0],n="mailto:"+e;else{let r;do r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(r!==t[0]);e=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(i){let t=this.rules.inline.text.exec(i);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},ee=class Gt{constructor(t){y(this,"tokens");y(this,"options");y(this,"state");y(this,"inlineQueue");y(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Se,this.options.tokenizer=this.options.tokenizer||new dt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={other:q,block:ot.normal,inline:Xe.normal};this.options.pedantic?(e.block=ot.pedantic,e.inline=Xe.pedantic):this.options.gfm&&(e.block=ot.gfm,this.options.breaks?e.inline=Xe.breaks:e.inline=Xe.gfm),this.tokenizer.rules=e}static get rules(){return{block:ot,inline:Xe}}static lex(t,e){return new Gt(e).lex(t)}static lexInline(t,e){return new Gt(e).inlineTokens(t)}lex(t){t=t.replace(q.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let n=this.inlineQueue[e];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){for(this.options.pedantic&&(t=t.replace(q.tabCharGlobal,"    ").replace(q.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some(a=>(r=a.call({lexer:this},t,e))?(t=t.substring(r.raw.length),e.push(r),!0):!1))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);let a=e.at(-1);r.raw.length===1&&a!==void 0?a.raw+=`
`:e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);let a=e.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.text,this.inlineQueue.at(-1).src=a.text):e.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);let a=e.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},e.push(r));continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}let s=t;if(this.options.extensions?.startBlock){let a=1/0,o=t.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},o),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){let a=e.at(-1);n&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):e.push(r),n=s.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);let a=e.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+r.raw,a.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):e.push(r);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n=t,r=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=r[2]?r[2].length:0,n=n.slice(0,r.index+s)+"["+"a".repeat(r[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let a=!1,o="";for(;t;){a||(o=""),a=!1;let l;if(this.options.extensions?.inline?.some(h=>(l=h.call({lexer:this},t,e))?(t=t.substring(l.raw.length),e.push(l),!0):!1))continue;if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length);let h=e.at(-1);l.type==="text"&&h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):e.push(l);continue}if(l=this.tokenizer.emStrong(t,n,o)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),e.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),e.push(l);continue}let u=t;if(this.options.extensions?.startInline){let h=1/0,f=t.slice(1),g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},f),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(u=t.substring(0,h+1))}if(l=this.tokenizer.inlineText(u)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),a=!0;let h=e.at(-1);h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):e.push(l);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return e}},bt=class{constructor(i){y(this,"options");y(this,"parser");this.options=i||Se}space(i){return""}code({text:i,lang:t,escaped:e}){let n=(t||"").match(q.notSpaceStart)?.[0],r=i.replace(q.endingNewline,"")+`
`;return n?'<pre><code class="language-'+be(n)+'">'+(e?r:be(r,!0))+`</code></pre>
`:"<pre><code>"+(e?r:be(r,!0))+`</code></pre>
`}blockquote({tokens:i}){return`<blockquote>
${this.parser.parse(i)}</blockquote>
`}html({text:i}){return i}def(i){return""}heading({tokens:i,depth:t}){return`<h${t}>${this.parser.parseInline(i)}</h${t}>
`}hr(i){return`<hr>
`}list(i){let t=i.ordered,e=i.start,n="";for(let a=0;a<i.items.length;a++){let o=i.items[a];n+=this.listitem(o)}let r=t?"ol":"ul",s=t&&e!==1?' start="'+e+'"':"";return"<"+r+s+`>
`+n+"</"+r+`>
`}listitem(i){return`<li>${this.parser.parse(i.tokens)}</li>
`}checkbox({checked:i}){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:i}){return`<p>${this.parser.parseInline(i)}</p>
`}table(i){let t="",e="";for(let r=0;r<i.header.length;r++)e+=this.tablecell(i.header[r]);t+=this.tablerow({text:e});let n="";for(let r=0;r<i.rows.length;r++){let s=i.rows[r];e="";for(let a=0;a<s.length;a++)e+=this.tablecell(s[a]);n+=this.tablerow({text:e})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:i}){return`<tr>
${i}</tr>
`}tablecell(i){let t=this.parser.parseInline(i.tokens),e=i.header?"th":"td";return(i.align?`<${e} align="${i.align}">`:`<${e}>`)+t+`</${e}>
`}strong({tokens:i}){return`<strong>${this.parser.parseInline(i)}</strong>`}em({tokens:i}){return`<em>${this.parser.parseInline(i)}</em>`}codespan({text:i}){return`<code>${be(i,!0)}</code>`}br(i){return"<br>"}del({tokens:i}){return`<del>${this.parser.parseInline(i)}</del>`}link({href:i,title:t,tokens:e}){let n=this.parser.parseInline(e),r=Sr(i);if(r===null)return n;i=r;let s='<a href="'+i+'"';return t&&(s+=' title="'+be(t)+'"'),s+=">"+n+"</a>",s}image({href:i,title:t,text:e,tokens:n}){n&&(e=this.parser.parseInline(n,this.parser.textRenderer));let r=Sr(i);if(r===null)return be(e);i=r;let s=`<img src="${i}" alt="${e}"`;return t&&(s+=` title="${be(t)}"`),s+=">",s}text(i){return"tokens"in i&&i.tokens?this.parser.parseInline(i.tokens):"escaped"in i&&i.escaped?i.text:be(i.text)}},sr=class{strong({text:i}){return i}em({text:i}){return i}codespan({text:i}){return i}del({text:i}){return i}html({text:i}){return i}text({text:i}){return i}link({text:i}){return""+i}image({text:i}){return""+i}br(){return""}checkbox({raw:i}){return i}},te=class Wt{constructor(t){y(this,"options");y(this,"renderer");y(this,"textRenderer");this.options=t||Se,this.options.renderer=this.options.renderer||new bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new sr}static parse(t,e){return new Wt(e).parse(t)}static parseInline(t,e){return new Wt(e).parseInline(t)}parse(t){let e="";for(let n=0;n<t.length;n++){let r=t[n];if(this.options.extensions?.renderers?.[r.type]){let a=r,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){e+=o||"";continue}}let s=r;switch(s.type){case"space":{e+=this.renderer.space(s);break}case"hr":{e+=this.renderer.hr(s);break}case"heading":{e+=this.renderer.heading(s);break}case"code":{e+=this.renderer.code(s);break}case"table":{e+=this.renderer.table(s);break}case"blockquote":{e+=this.renderer.blockquote(s);break}case"list":{e+=this.renderer.list(s);break}case"checkbox":{e+=this.renderer.checkbox(s);break}case"html":{e+=this.renderer.html(s);break}case"def":{e+=this.renderer.def(s);break}case"paragraph":{e+=this.renderer.paragraph(s);break}case"text":{e+=this.renderer.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return e}parseInline(t,e=this.renderer){let n="";for(let r=0;r<t.length;r++){let s=t[r];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let a=s;switch(a.type){case"escape":{n+=e.text(a);break}case"html":{n+=e.html(a);break}case"link":{n+=e.link(a);break}case"image":{n+=e.image(a);break}case"checkbox":{n+=e.checkbox(a);break}case"strong":{n+=e.strong(a);break}case"em":{n+=e.em(a);break}case"codespan":{n+=e.codespan(a);break}case"br":{n+=e.br(a);break}case"del":{n+=e.del(a);break}case"text":{n+=e.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},ht,Je=(ht=class{constructor(i){y(this,"options");y(this,"block");this.options=i||Se}preprocess(i){return i}postprocess(i){return i}processAllTokens(i){return i}emStrongMask(i){return i}provideLexer(){return this.block?ee.lex:ee.lexInline}provideParser(){return this.block?te.parse:te.parseInline}},y(ht,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),y(ht,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),ht),ui=class{constructor(...i){y(this,"defaults",Kt());y(this,"options",this.setOptions);y(this,"parse",this.parseMarkdown(!0));y(this,"parseInline",this.parseMarkdown(!1));y(this,"Parser",te);y(this,"Renderer",bt);y(this,"TextRenderer",sr);y(this,"Lexer",ee);y(this,"Tokenizer",dt);y(this,"Hooks",Je);this.use(...i)}walkTokens(i,t){let e=[];for(let n of i)switch(e=e.concat(t.call(this,n)),n.type){case"table":{let r=n;for(let s of r.header)e=e.concat(this.walkTokens(s.tokens,t));for(let s of r.rows)for(let a of s)e=e.concat(this.walkTokens(a.tokens,t));break}case"list":{let r=n;e=e.concat(this.walkTokens(r.items,t));break}default:{let r=n;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{let a=r[s].flat(1/0);e=e.concat(this.walkTokens(a,t))}):r.tokens&&(e=e.concat(this.walkTokens(r.tokens,t)))}}return e}use(...i){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return i.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let s=t.renderers[r.name];s?t.renderers[r.name]=function(...a){let o=r.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[r.level];s?s.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),n.extensions=t),e.renderer){let r=this.defaults.renderer||new bt(this.defaults);for(let s in e.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,o=e.renderer[a],l=r[a];r[a]=(...u)=>{let h=o.apply(r,u);return h===!1&&(h=l.apply(r,u)),h||""}}n.renderer=r}if(e.tokenizer){let r=this.defaults.tokenizer||new dt(this.defaults);for(let s in e.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,o=e.tokenizer[a],l=r[a];r[a]=(...u)=>{let h=o.apply(r,u);return h===!1&&(h=l.apply(r,u)),h}}n.tokenizer=r}if(e.hooks){let r=this.defaults.hooks||new Je;for(let s in e.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,o=e.hooks[a],l=r[a];Je.passThroughHooks.has(s)?r[a]=u=>{if(this.defaults.async&&Je.passThroughHooksRespectAsync.has(s))return(async()=>{let f=await o.call(r,u);return l.call(r,f)})();let h=o.call(r,u);return l.call(r,h)}:r[a]=(...u)=>{if(this.defaults.async)return(async()=>{let f=await o.apply(r,u);return f===!1&&(f=await l.apply(r,u)),f})();let h=o.apply(r,u);return h===!1&&(h=l.apply(r,u)),h}}n.hooks=r}if(e.walkTokens){let r=this.defaults.walkTokens,s=e.walkTokens;n.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),r&&(o=o.concat(r.call(this,a))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(i){return this.defaults={...this.defaults,...i},this}lexer(i,t){return ee.lex(i,t??this.defaults)}parser(i,t){return te.parse(i,t??this.defaults)}parseMarkdown(i){return(t,e)=>{let n={...e},r={...this.defaults,...n},s=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=i),r.async)return(async()=>{let a=r.hooks?await r.hooks.preprocess(t):t,o=await(r.hooks?await r.hooks.provideLexer():i?ee.lex:ee.lexInline)(a,r),l=r.hooks?await r.hooks.processAllTokens(o):o;r.walkTokens&&await Promise.all(this.walkTokens(l,r.walkTokens));let u=await(r.hooks?await r.hooks.provideParser():i?te.parse:te.parseInline)(l,r);return r.hooks?await r.hooks.postprocess(u):u})().catch(s);try{r.hooks&&(t=r.hooks.preprocess(t));let a=(r.hooks?r.hooks.provideLexer():i?ee.lex:ee.lexInline)(t,r);r.hooks&&(a=r.hooks.processAllTokens(a)),r.walkTokens&&this.walkTokens(a,r.walkTokens);let o=(r.hooks?r.hooks.provideParser():i?te.parse:te.parseInline)(a,r);return r.hooks&&(o=r.hooks.postprocess(o)),o}catch(a){return s(a)}}}onError(i,t){return e=>{if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,i){let n="<p>An error occurred:</p><pre>"+be(e.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(e);throw e}}},we=new ui;function v(i,t){return we.parse(i,t)}v.options=v.setOptions=function(i){return we.setOptions(i),v.defaults=we.defaults,Jr(v.defaults),v};v.getDefaults=Kt;v.defaults=Se;v.use=function(...i){return we.use(...i),v.defaults=we.defaults,Jr(v.defaults),v};v.walkTokens=function(i,t){return we.walkTokens(i,t)};v.parseInline=we.parseInline;v.Parser=te;v.parser=te.parse;v.Renderer=bt;v.TextRenderer=sr;v.Lexer=ee;v.lexer=ee.lex;v.Tokenizer=dt;v.Hooks=Je;v.parse=v;v.options;v.setOptions;v.use;v.walkTokens;v.parseInline;te.parse;ee.lex;class Kn{constructor(){y(this,"sourceFormat","markdown");y(this,"targetFormat","html");y(this,"markedInstance");this.markedInstance=new ui({gfm:!0,breaks:!1})}convert(t,e){const n=performance.now(),r=this.markedInstance.parse(t),s=performance.now()-n;return{content:r,metadata:{sourceFormat:this.sourceFormat,targetFormat:this.targetFormat,processingTimeMs:s}}}}var Dt={exports:{}},Cr;function Qn(){return Cr||(Cr=1,(function(i){function t(e,n){if(n&&n.documentElement)e=n,n=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(n=n||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._metadata={},this._debug=!!n.debug,this._maxElemsToParse=n.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=n.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=n.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(n.classesToPreserve||[]),this._keepClasses=!!n.keepClasses,this._serializer=n.serializer||function(r){return r.innerHTML},this._disableJSONLD=!!n.disableJSONLD,this._allowedVideoRegex=n.allowedVideoRegex||this.REGEXPS.videos,this._linkDensityModifier=n.linkDensityModifier||0,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let r=function(s){if(s.nodeType==s.TEXT_NODE)return`${s.nodeName} ("${s.textContent}")`;let a=Array.from(s.attributes||[],function(o){return`${o.name}="${o.value}"`}).join(" ");return`<${s.localName} ${a}>`};this.log=function(){if(typeof console<"u"){let a=Array.from(arguments,o=>o&&o.nodeType==this.ELEMENT_NODE?r(o):o);a.unshift("Reader: (Readability)"),console.log(...a)}else if(typeof dump<"u"){var s=Array.prototype.map.call(arguments,function(a){return a&&a.nodeName?r(a):a}).join(" ");dump("Reader: (Readability) "+s+`
`)}}}else this.log=function(){}}t.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,adWords:/^(ad(vertising|vertisement)?|pub(licité)?|werb(ung)?|广告|Реклама|Anuncio)$/iu,loadingWords:/^((loading|正在加载|Загрузка|chargement|cargando)(…|\.\.\.)?)$/iu},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P","OL","UL"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes(e,n){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var r=e.length-1;r>=0;r--){var s=e[r],a=s.parentNode;a&&(!n||n.call(this,s,r,e))&&a.removeChild(s)}},_replaceNodeTags(e,n){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const r of e)this._setNodeTag(r,n)},_forEachNode(e,n){Array.prototype.forEach.call(e,n,this)},_findNode(e,n){return Array.prototype.find.call(e,n,this)},_someNode(e,n){return Array.prototype.some.call(e,n,this)},_everyNode(e,n){return Array.prototype.every.call(e,n,this)},_getAllNodesWithTag(e,n){return e.querySelectorAll?e.querySelectorAll(n.join(",")):[].concat.apply([],n.map(function(r){var s=e.getElementsByTagName(r);return Array.isArray(s)?s:Array.from(s)}))},_cleanClasses(e){var n=this._classesToPreserve,r=(e.getAttribute("class")||"").split(/\s+/).filter(s=>n.includes(s)).join(" ");for(r?e.setAttribute("class",r):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_isUrl(e){try{return new URL(e),!0}catch{return!1}},_fixRelativeUris(e){var n=this._doc.baseURI,r=this._doc.documentURI;function s(l){if(n==r&&l.charAt(0)=="#")return l;try{return new URL(l,n).href}catch{}return l}var a=this._getAllNodesWithTag(e,["a"]);this._forEachNode(a,function(l){var u=l.getAttribute("href");if(u)if(u.indexOf("javascript:")===0)if(l.childNodes.length===1&&l.childNodes[0].nodeType===this.TEXT_NODE){var h=this._doc.createTextNode(l.textContent);l.parentNode.replaceChild(h,l)}else{for(var f=this._doc.createElement("span");l.firstChild;)f.appendChild(l.firstChild);l.parentNode.replaceChild(f,l)}else l.setAttribute("href",s(u))});var o=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(o,function(l){var u=l.getAttribute("src"),h=l.getAttribute("poster"),f=l.getAttribute("srcset");if(u&&l.setAttribute("src",s(u)),h&&l.setAttribute("poster",s(h)),f){var g=f.replace(this.REGEXPS.srcsetUrl,function(b,_,N,Y){return s(_)+(N||"")+Y});l.setAttribute("srcset",g)}})},_simplifyNestedElements(e){for(var n=e;n;){if(n.parentNode&&["DIV","SECTION"].includes(n.tagName)&&!(n.id&&n.id.startsWith("readability"))){if(this._isElementWithoutContent(n)){n=this._removeAndGetNext(n);continue}else if(this._hasSingleTagInsideElement(n,"DIV")||this._hasSingleTagInsideElement(n,"SECTION")){for(var r=n.children[0],s=0;s<n.attributes.length;s++)r.setAttributeNode(n.attributes[s].cloneNode());n.parentNode.replaceChild(r,n),n=r;continue}}n=this._getNextNode(n)}},_getArticleTitle(){var e=this._doc,n="",r="";try{n=r=e.title.trim(),typeof n!="string"&&(n=r=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var s=!1;function a(g){return g.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(n)){s=/ [\\\/>»] /.test(n);let g=Array.from(r.matchAll(/ [\|\-\\\/>»] /gi));n=r.substring(0,g.pop().index),a(n)<3&&(n=r.replace(/^[^\|\-\\\/>»]*[\|\-\\\/>»]/gi,""))}else if(n.includes(": ")){var o=this._getAllNodesWithTag(e,["h1","h2"]),l=n.trim(),u=this._someNode(o,function(g){return g.textContent.trim()===l});u||(n=r.substring(r.lastIndexOf(":")+1),a(n)<3?n=r.substring(r.indexOf(":")+1):a(r.substr(0,r.indexOf(":")))>5&&(n=r))}else if(n.length>150||n.length<15){var h=e.getElementsByTagName("h1");h.length===1&&(n=this._getInnerText(h[0]))}n=n.trim().replace(this.REGEXPS.normalize," ");var f=a(n);return f<=4&&(!s||f!=a(r.replace(/[\|\-\\\/>»]+/g,""))-1)&&(n=r),n},_prepDocument(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode(e){for(var n=e;n&&n.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(n.textContent);)n=n.nextSibling;return n},_replaceBrs(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(n){for(var r=n.nextSibling,s=!1;(r=this._nextNode(r))&&r.tagName=="BR";){s=!0;var a=r.nextSibling;r.remove(),r=a}if(s){var o=this._doc.createElement("p");for(n.parentNode.replaceChild(o,n),r=o.nextSibling;r;){if(r.tagName=="BR"){var l=this._nextNode(r.nextSibling);if(l&&l.tagName=="BR")break}if(!this._isPhrasingContent(r))break;var u=r.nextSibling;o.appendChild(r),r=u}for(;o.lastChild&&this._isWhitespace(o.lastChild);)o.lastChild.remove();o.parentNode.tagName==="P"&&this._setNodeTag(o.parentNode,"DIV")}})},_setNodeTag(e,n){if(this.log("_setNodeTag",e,n),this._docJSDOMParser)return e.localName=n.toLowerCase(),e.tagName=n.toUpperCase(),e;for(var r=e.ownerDocument.createElement(n);e.firstChild;)r.appendChild(e.firstChild);e.parentNode.replaceChild(r,e),e.readability&&(r.readability=e.readability);for(var s=0;s<e.attributes.length;s++)r.setAttributeNode(e.attributes[s].cloneNode());return r},_prepArticle(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var n=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(r){this._cleanMatchedNodes(r,function(s,a){return this.REGEXPS.shareElements.test(a)&&s.textContent.length<n})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(r){var s=this._getAllNodesWithTag(r,["img","embed","object","iframe"]).length;return s===0&&!this._getInnerText(r,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(r){var s=this._nextNode(r.nextSibling);s&&s.tagName=="P"&&r.remove()}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(r){var s=this._hasSingleTagInsideElement(r,"TBODY")?r.firstElementChild:r;if(this._hasSingleTagInsideElement(s,"TR")){var a=s.firstElementChild;if(this._hasSingleTagInsideElement(a,"TD")){var o=a.firstElementChild;o=this._setNodeTag(o,this._everyNode(o.childNodes,this._isPhrasingContent)?"P":"DIV"),r.parentNode.replaceChild(o,r)}}})},_initializeNode(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext(e){var n=this._getNextNode(e,!0);return e.remove(),n},_getNextNode(e,n){if(!n&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity(e,n){var r=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),s=n.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!r.length||!s.length)return 0;var a=s.filter(l=>!r.includes(l)),o=a.join(" ").length/s.join(" ").length;return 1-o},_isValidByline(e,n){var r=e.getAttribute("rel"),s=e.getAttribute("itemprop"),a=e.textContent.trim().length;return(r==="author"||s&&s.includes("author")||this.REGEXPS.byline.test(n))&&!!a&&a<100},_getNodeAncestors(e,n){n=n||0;for(var r=0,s=[];e.parentNode&&(s.push(e.parentNode),!(n&&++r===n));)e=e.parentNode;return s},_grabArticle(e){this.log("**** grabArticle ****");var n=this._doc,r=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var s=e.innerHTML;;){this.log("Starting grabArticle loop");var a=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],l=this._doc.documentElement;let De=!0;for(;l;){l.tagName==="HTML"&&(this._articleLang=l.getAttribute("lang"));var u=l.className+" "+l.id;if(!this._isProbablyVisible(l)){this.log("Removing hidden node - "+u),l=this._removeAndGetNext(l);continue}if(l.getAttribute("aria-modal")=="true"&&l.getAttribute("role")=="dialog"){l=this._removeAndGetNext(l);continue}if(!this._articleByline&&!this._metadata.byline&&this._isValidByline(l,u)){for(var h=this._getNextNode(l,!0),f=this._getNextNode(l),g=null;f&&f!=h;){var b=f.getAttribute("itemprop");if(b&&b.includes("name")){g=f;break}else f=this._getNextNode(f)}this._articleByline=(g??l).textContent.trim(),l=this._removeAndGetNext(l);continue}if(De&&this._headerDuplicatesTitle(l)){this.log("Removing header: ",l.textContent.trim(),this._articleTitle.trim()),De=!1,l=this._removeAndGetNext(l);continue}if(a){if(this.REGEXPS.unlikelyCandidates.test(u)&&!this.REGEXPS.okMaybeItsACandidate.test(u)&&!this._hasAncestorTag(l,"table")&&!this._hasAncestorTag(l,"code")&&l.tagName!=="BODY"&&l.tagName!=="A"){this.log("Removing unlikely candidate - "+u),l=this._removeAndGetNext(l);continue}if(this.UNLIKELY_ROLES.includes(l.getAttribute("role"))){this.log("Removing content with role "+l.getAttribute("role")+" - "+u),l=this._removeAndGetNext(l);continue}}if((l.tagName==="DIV"||l.tagName==="SECTION"||l.tagName==="HEADER"||l.tagName==="H1"||l.tagName==="H2"||l.tagName==="H3"||l.tagName==="H4"||l.tagName==="H5"||l.tagName==="H6")&&this._isElementWithoutContent(l)){l=this._removeAndGetNext(l);continue}if(this.DEFAULT_TAGS_TO_SCORE.includes(l.tagName)&&o.push(l),l.tagName==="DIV"){for(var _=null,N=l.firstChild;N;){var Y=N.nextSibling;if(this._isPhrasingContent(N))_!==null?_.appendChild(N):this._isWhitespace(N)||(_=n.createElement("p"),l.replaceChild(_,N),_.appendChild(N));else if(_!==null){for(;_.lastChild&&this._isWhitespace(_.lastChild);)_.lastChild.remove();_=null}N=Y}if(this._hasSingleTagInsideElement(l,"P")&&this._getLinkDensity(l)<.25){var Z=l.children[0];l.parentNode.replaceChild(Z,l),l=Z,o.push(l)}else this._hasChildBlockElement(l)||(l=this._setNodeTag(l,"P"),o.push(l))}l=this._getNextNode(l)}var z=[];this._forEachNode(o,function(K){if(!(!K.parentNode||typeof K.parentNode.tagName>"u")){var G=this._getInnerText(K);if(!(G.length<25)){var ve=this._getNodeAncestors(K,5);if(ve.length!==0){var pe=0;pe+=1,pe+=G.split(this.REGEXPS.commas).length,pe+=Math.min(Math.floor(G.length/100),3),this._forEachNode(ve,function(ie,Ie){if(!(!ie.tagName||!ie.parentNode||typeof ie.parentNode.tagName>"u")){if(typeof ie.readability>"u"&&(this._initializeNode(ie),z.push(ie)),Ie===0)var Ge=1;else Ie===1?Ge=2:Ge=Ie*3;ie.readability.contentScore+=pe/Ge}})}}}});for(var O=[],w=0,B=z.length;w<B;w+=1){var H=z[w],Ee=H.readability.contentScore*(1-this._getLinkDensity(H));H.readability.contentScore=Ee,this.log("Candidate:",H,"with score "+Ee);for(var oe=0;oe<this._nbTopCandidates;oe++){var ke=O[oe];if(!ke||Ee>ke.readability.contentScore){O.splice(oe,0,H),O.length>this._nbTopCandidates&&O.pop();break}}}var k=O[0]||null,C=!1,E;if(k===null||k.tagName==="BODY"){for(k=n.createElement("DIV"),C=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),k.appendChild(e.firstChild);e.appendChild(k),this._initializeNode(k)}else if(k){for(var D=[],ce=1;ce<O.length;ce++)O[ce].readability.contentScore/k.readability.contentScore>=.75&&D.push(this._getNodeAncestors(O[ce]));var $e=3;if(D.length>=$e)for(E=k.parentNode;E.tagName!=="BODY";){for(var He=0,Ue=0;Ue<D.length&&He<$e;Ue++)He+=Number(D[Ue].includes(E));if(He>=$e){k=E;break}E=E.parentNode}k.readability||this._initializeNode(k),E=k.parentNode;for(var Re=k.readability.contentScore,Et=Re/3;E.tagName!=="BODY";){if(!E.readability){E=E.parentNode;continue}var Fe=E.readability.contentScore;if(Fe<Et)break;if(Fe>Re){k=E;break}Re=E.readability.contentScore,E=E.parentNode}for(E=k.parentNode;E.tagName!="BODY"&&E.children.length==1;)k=E,E=k.parentNode;k.readability||this._initializeNode(k)}var A=n.createElement("DIV");r&&(A.id="readability-content");var it=Math.max(10,k.readability.contentScore*.2);E=k.parentNode;for(var I=E.children,ye=0,S=I.length;ye<S;ye++){var R=I[ye],ue=!1;if(this.log("Looking at sibling node:",R,R.readability?"with score "+R.readability.contentScore:""),this.log("Sibling has score",R.readability?R.readability.contentScore:"Unknown"),R===k)ue=!0;else{var he=0;if(R.className===k.className&&k.className!==""&&(he+=k.readability.contentScore*.2),R.readability&&R.readability.contentScore+he>=it)ue=!0;else if(R.nodeName==="P"){var ze=this._getLinkDensity(R),Le=this._getInnerText(R),Ce=Le.length;(Ce>80&&ze<.25||Ce<80&&Ce>0&&ze===0&&Le.search(/\.( |$)/)!==-1)&&(ue=!0)}}ue&&(this.log("Appending node:",R),this.ALTER_TO_DIV_EXCEPTIONS.includes(R.nodeName)||(this.log("Altering sibling:",R,"to div."),R=this._setNodeTag(R,"DIV")),A.appendChild(R),I=E.children,ye-=1,S-=1)}if(this._debug&&this.log("Article content pre-prep: "+A.innerHTML),this._prepArticle(A),this._debug&&this.log("Article content post-prep: "+A.innerHTML),C)k.id="readability-page-1",k.className="page";else{var Ae=n.createElement("DIV");for(Ae.id="readability-page-1",Ae.className="page";A.firstChild;)Ae.appendChild(A.firstChild);A.appendChild(Ae)}this._debug&&this.log("Article content after paging: "+A.innerHTML);var re=!0,xe=this._getInnerText(A,!0).length;if(xe<this._charThreshold)if(re=!1,e.innerHTML=s,this._attempts.push({articleContent:A,textLength:xe}),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);else{if(this._attempts.sort(function(K,G){return G.textLength-K.textLength}),!this._attempts[0].textLength)return null;A=this._attempts[0].articleContent,re=!0}if(re){var fe=[E,k].concat(this._getNodeAncestors(E));return this._someNode(fe,function(K){if(!K.tagName)return!1;var G=K.getAttribute("dir");return G?(this._articleDir=G,!0):!1}),A}}},_unescapeHtmlEntities(e){if(!e)return e;var n=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(r,s){return n[s]}).replace(/&#(?:x([0-9a-f]+)|([0-9]+));/gi,function(r,s,a){var o=parseInt(s||a,s?16:10);return(o==0||o>1114111||o>=55296&&o<=57343)&&(o=65533),String.fromCodePoint(o)})},_getJSONLD(e){var n=this._getAllNodesWithTag(e,["script"]),r;return this._forEachNode(n,function(s){if(!r&&s.getAttribute("type")==="application/ld+json")try{var a=s.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),o=JSON.parse(a);if(Array.isArray(o)&&(o=o.find(b=>b["@type"]&&b["@type"].match(this.REGEXPS.jsonLdArticleTypes)),!o))return;var l=/^https?\:\/\/schema\.org\/?$/,u=typeof o["@context"]=="string"&&o["@context"].match(l)||typeof o["@context"]=="object"&&typeof o["@context"]["@vocab"]=="string"&&o["@context"]["@vocab"].match(l);if(!u||(!o["@type"]&&Array.isArray(o["@graph"])&&(o=o["@graph"].find(b=>(b["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes))),!o||!o["@type"]||!o["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(r={},typeof o.name=="string"&&typeof o.headline=="string"&&o.name!==o.headline){var h=this._getArticleTitle(),f=this._textSimilarity(o.name,h)>.75,g=this._textSimilarity(o.headline,h)>.75;g&&!f?r.title=o.headline:r.title=o.name}else typeof o.name=="string"?r.title=o.name.trim():typeof o.headline=="string"&&(r.title=o.headline.trim());o.author&&(typeof o.author.name=="string"?r.byline=o.author.name.trim():Array.isArray(o.author)&&o.author[0]&&typeof o.author[0].name=="string"&&(r.byline=o.author.filter(function(b){return b&&typeof b.name=="string"}).map(function(b){return b.name.trim()}).join(", "))),typeof o.description=="string"&&(r.excerpt=o.description.trim()),o.publisher&&typeof o.publisher.name=="string"&&(r.siteName=o.publisher.name.trim()),typeof o.datePublished=="string"&&(r.datePublished=o.datePublished.trim())}catch(b){this.log(b.message)}}),r||{}},_getArticleMetadata(e){var n={},r={},s=this._doc.getElementsByTagName("meta"),a=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|parsely|weibo:(article|webpage))\s*[-\.:]\s*)?(author|creator|pub-date|description|title|site_name)\s*$/i;this._forEachNode(s,function(u){var h=u.getAttribute("name"),f=u.getAttribute("property"),g=u.getAttribute("content");if(g){var b=null,_=null;f&&(b=f.match(a),b&&(_=b[0].toLowerCase().replace(/\s/g,""),r[_]=g.trim())),!b&&h&&o.test(h)&&(_=h,g&&(_=_.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),r[_]=g.trim()))}}),n.title=e.title||r["dc:title"]||r["dcterm:title"]||r["og:title"]||r["weibo:article:title"]||r["weibo:webpage:title"]||r.title||r["twitter:title"]||r["parsely-title"],n.title||(n.title=this._getArticleTitle());const l=typeof r["article:author"]=="string"&&!this._isUrl(r["article:author"])?r["article:author"]:void 0;return n.byline=e.byline||r["dc:creator"]||r["dcterm:creator"]||r.author||r["parsely-author"]||l,n.excerpt=e.excerpt||r["dc:description"]||r["dcterm:description"]||r["og:description"]||r["weibo:article:description"]||r["weibo:webpage:description"]||r.description||r["twitter:description"],n.siteName=e.siteName||r["og:site_name"],n.publishedTime=e.datePublished||r["article:published_time"]||r["parsely-pub-date"]||null,n.title=this._unescapeHtmlEntities(n.title),n.byline=this._unescapeHtmlEntities(n.byline),n.excerpt=this._unescapeHtmlEntities(n.excerpt),n.siteName=this._unescapeHtmlEntities(n.siteName),n.publishedTime=this._unescapeHtmlEntities(n.publishedTime),n},_isSingleImage(e){for(;e;){if(e.tagName==="IMG")return!0;if(e.children.length!==1||e.textContent.trim()!=="")return!1;e=e.children[0]}return!1},_unwrapNoscriptImages(e){var n=Array.from(e.getElementsByTagName("img"));this._forEachNode(n,function(s){for(var a=0;a<s.attributes.length;a++){var o=s.attributes[a];switch(o.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(o.value))return}s.remove()});var r=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(r,function(s){if(this._isSingleImage(s)){var a=e.createElement("div");a.innerHTML=s.innerHTML;var o=s.previousElementSibling;if(o&&this._isSingleImage(o)){var l=o;l.tagName!=="IMG"&&(l=o.getElementsByTagName("img")[0]);for(var u=a.getElementsByTagName("img")[0],h=0;h<l.attributes.length;h++){var f=l.attributes[h];if(f.value!==""&&(f.name==="src"||f.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(f.value))){if(u.getAttribute(f.name)===f.value)continue;var g=f.name;u.hasAttribute(g)&&(g="data-old-"+g),u.setAttribute(g,f.value)}}s.parentNode.replaceChild(a.firstElementChild,o)}}})},_removeScripts(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement(e,n){return e.children.length!=1||e.children[0].tagName!==n?!1:!this._someNode(e.childNodes,function(r){return r.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(r.textContent)})},_isElementWithoutContent(e){return e.nodeType===this.ELEMENT_NODE&&!e.textContent.trim().length&&(!e.children.length||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement(e){return this._someNode(e.childNodes,function(n){return this.DIV_TO_P_ELEMS.has(n.tagName)||this._hasChildBlockElement(n)})},_isPhrasingContent(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.includes(e.tagName)||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText(e,n){n=typeof n>"u"?!0:n;var r=e.textContent.trim();return n?r.replace(this.REGEXPS.normalize," "):r},_getCharCount(e,n){return n=n||",",this._getInnerText(e).split(n).length-1},_cleanStyles(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var n=0;n<this.PRESENTATIONAL_ATTRIBUTES.length;n++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[n]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.includes(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var r=e.firstElementChild;r!==null;)this._cleanStyles(r),r=r.nextElementSibling}},_getLinkDensity(e){var n=this._getInnerText(e).length;if(n===0)return 0;var r=0;return this._forEachNode(e.getElementsByTagName("a"),function(s){var a=s.getAttribute("href"),o=a&&this.REGEXPS.hashUrl.test(a)?.3:1;r+=this._getInnerText(s).length*o}),r/n},_getClassWeight(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var n=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(n-=25),this.REGEXPS.positive.test(e.className)&&(n+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(n-=25),this.REGEXPS.positive.test(e.id)&&(n+=25)),n},_clean(e,n){var r=["object","embed","iframe"].includes(n);this._removeNodes(this._getAllNodesWithTag(e,[n]),function(s){if(r){for(var a=0;a<s.attributes.length;a++)if(this._allowedVideoRegex.test(s.attributes[a].value))return!1;if(s.tagName==="object"&&this._allowedVideoRegex.test(s.innerHTML))return!1}return!0})},_hasAncestorTag(e,n,r,s){r=r||3,n=n.toUpperCase();for(var a=0;e.parentNode;){if(r>0&&a>r)return!1;if(e.parentNode.tagName===n&&(!s||s(e.parentNode)))return!0;e=e.parentNode,a++}return!1},_getRowAndColumnCount(e){for(var n=0,r=0,s=e.getElementsByTagName("tr"),a=0;a<s.length;a++){var o=s[a].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),n+=o||1;for(var l=0,u=s[a].getElementsByTagName("td"),h=0;h<u.length;h++){var f=u[h].getAttribute("colspan")||0;f&&(f=parseInt(f,10)),l+=f||1}r=Math.max(r,l)}return{rows:n,columns:r}},_markDataTables(e){for(var n=e.getElementsByTagName("table"),r=0;r<n.length;r++){var s=n[r],a=s.getAttribute("role");if(a=="presentation"){s._readabilityDataTable=!1;continue}var o=s.getAttribute("datatable");if(o=="0"){s._readabilityDataTable=!1;continue}var l=s.getAttribute("summary");if(l){s._readabilityDataTable=!0;continue}var u=s.getElementsByTagName("caption")[0];if(u&&u.childNodes.length){s._readabilityDataTable=!0;continue}var h=["col","colgroup","tfoot","thead","th"],f=function(b){return!!s.getElementsByTagName(b)[0]};if(h.some(f)){this.log("Data table because found data-y descendant"),s._readabilityDataTable=!0;continue}if(s.getElementsByTagName("table")[0]){s._readabilityDataTable=!1;continue}var g=this._getRowAndColumnCount(s);if(g.columns==1||g.rows==1){s._readabilityDataTable=!1;continue}if(g.rows>=10||g.columns>4){s._readabilityDataTable=!0;continue}s._readabilityDataTable=g.rows*g.columns>10}},_fixLazyImages(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(n){if(n.src&&this.REGEXPS.b64DataUrl.test(n.src)){var r=this.REGEXPS.b64DataUrl.exec(n.src);if(r[1]==="image/svg+xml")return;for(var s=!1,a=0;a<n.attributes.length;a++){var o=n.attributes[a];if(o.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(o.value)){s=!0;break}}if(s){var l=r[0].length,u=n.src.length-l;u<133&&n.removeAttribute("src")}}if(!((n.src||n.srcset&&n.srcset!="null")&&!n.className.toLowerCase().includes("lazy"))){for(var h=0;h<n.attributes.length;h++)if(o=n.attributes[h],!(o.name==="src"||o.name==="srcset"||o.name==="alt")){var f=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(o.value)?f="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(o.value)&&(f="src"),f){if(n.tagName==="IMG"||n.tagName==="PICTURE")n.setAttribute(f,o.value);else if(n.tagName==="FIGURE"&&!this._getAllNodesWithTag(n,["img","picture"]).length){var g=this._doc.createElement("img");g.setAttribute(f,o.value),n.appendChild(g)}}}}})},_getTextDensity(e,n){var r=this._getInnerText(e,!0).length;if(r===0)return 0;var s=0,a=this._getAllNodesWithTag(e,n);return this._forEachNode(a,o=>s+=this._getInnerText(o,!0).length),s/r},_cleanConditionally(e,n){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[n]),function(r){var s=function(E){return E._readabilityDataTable},a=n==="ul"||n==="ol";if(!a){var o=0,l=this._getAllNodesWithTag(r,["ul","ol"]);this._forEachNode(l,E=>o+=this._getInnerText(E).length),a=o/this._getInnerText(r).length>.9}if(n==="table"&&s(r)||this._hasAncestorTag(r,"table",-1,s)||this._hasAncestorTag(r,"code")||[...r.getElementsByTagName("table")].some(E=>E._readabilityDataTable))return!1;var u=this._getClassWeight(r);this.log("Cleaning Conditionally",r);var h=0;if(u+h<0)return!0;if(this._getCharCount(r,",")<10){for(var f=r.getElementsByTagName("p").length,g=r.getElementsByTagName("img").length,b=r.getElementsByTagName("li").length-100,_=r.getElementsByTagName("input").length,N=this._getTextDensity(r,["h1","h2","h3","h4","h5","h6"]),Y=0,Z=this._getAllNodesWithTag(r,["object","embed","iframe"]),z=0;z<Z.length;z++){for(var O=0;O<Z[z].attributes.length;O++)if(this._allowedVideoRegex.test(Z[z].attributes[O].value))return!1;if(Z[z].tagName==="object"&&this._allowedVideoRegex.test(Z[z].innerHTML))return!1;Y++}var w=this._getInnerText(r);if(this.REGEXPS.adWords.test(w)||this.REGEXPS.loadingWords.test(w))return!0;var B=w.length,H=this._getLinkDensity(r),Ee=["SPAN","LI","TD"].concat(Array.from(this.DIV_TO_P_ELEMS)),oe=this._getTextDensity(r,Ee),ke=this._hasAncestorTag(r,"figure"),k=(()=>{const D=[];return!ke&&g>1&&f/g<.5&&D.push(`Bad p to img ratio (img=${g}, p=${f})`),!a&&b>f&&D.push(`Too many li's outside of a list. (li=${b} > p=${f})`),_>Math.floor(f/3)&&D.push(`Too many inputs per p. (input=${_}, p=${f})`),!a&&!ke&&N<.9&&B<25&&(g===0||g>2)&&H>0&&D.push(`Suspiciously short. (headingDensity=${N}, img=${g}, linkDensity=${H})`),!a&&u<25&&H>.2+this._linkDensityModifier&&D.push(`Low weight and a little linky. (linkDensity=${H})`),u>=25&&H>.5+this._linkDensityModifier&&D.push(`High weight and mostly links. (linkDensity=${H})`),(Y===1&&B<75||Y>1)&&D.push(`Suspicious embed. (embedCount=${Y}, contentLength=${B})`),g===0&&oe===0&&D.push(`No useful content. (img=${g}, textDensity=${oe})`),D.length?(this.log("Checks failed",D),!0):!1})();if(a&&k){for(var C=0;C<r.children.length;C++)if(r.children[C].children.length>1)return k;let D=r.getElementsByTagName("li").length;if(g==D)return!1}return k}return!1})},_cleanMatchedNodes(e,n){for(var r=this._getNextNode(e,!0),s=this._getNextNode(e);s&&s!=r;)n.call(this,s,s.className+" "+s.id)?s=this._removeAndGetNext(s):s=this._getNextNode(s)},_cleanHeaders(e){let n=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(n,function(r){let s=this._getClassWeight(r)<0;return s&&this.log("Removing header with low class weight:",r),s})},_headerDuplicatesTitle(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var n=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",n,this._articleTitle),this._textSimilarity(this._articleTitle,n)>.75},_flagIsActive(e){return(this._flags&e)>0},_removeFlag(e){this._flags=this._flags&~e},_isProbablyVisible(e){return(!e.style||e.style.display!="none")&&(!e.style||e.style.visibility!="hidden")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.includes&&e.className.includes("fallback-image"))},parse(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var n=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var r=this._getArticleMetadata(n);this._metadata=r,this._articleTitle=r.title;var s=this._grabArticle();if(!s)return null;if(this.log("Grabbed: "+s.innerHTML),this._postProcessContent(s),!r.excerpt){var a=s.getElementsByTagName("p");a.length&&(r.excerpt=a[0].textContent.trim())}var o=s.textContent;return{title:this._articleTitle,byline:r.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(s),textContent:o,length:o.length,excerpt:r.excerpt,siteName:r.siteName||this._articleSiteName,publishedTime:r.publishedTime}}},i.exports=t})(Dt)),Dt.exports}var It={exports:{}},Dr;function Jn(){return Dr||(Dr=1,(function(i){var t={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function e(r){return(!r.style||r.style.display!="none")&&!r.hasAttribute("hidden")&&(!r.hasAttribute("aria-hidden")||r.getAttribute("aria-hidden")!="true"||r.className&&r.className.includes&&r.className.includes("fallback-image"))}function n(r,s={}){typeof s=="function"&&(s={visibilityChecker:s});var a={minScore:20,minContentLength:140,visibilityChecker:e};s=Object.assign(a,s);var o=r.querySelectorAll("p, pre, article"),l=r.querySelectorAll("div > br");if(l.length){var u=new Set(o);[].forEach.call(l,function(f){u.add(f.parentNode)}),o=Array.from(u)}var h=0;return[].some.call(o,function(f){if(!s.visibilityChecker(f))return!1;var g=f.className+" "+f.id;if(t.unlikelyCandidates.test(g)&&!t.okMaybeItsACandidate.test(g)||f.matches("li p"))return!1;var b=f.textContent.trim().length;return b<s.minContentLength?!1:(h+=Math.sqrt(b-s.minContentLength),h>s.minScore)})}i.exports=n})(It)),It.exports}var Pt,Ir;function es(){if(Ir)return Pt;Ir=1;var i=Qn(),t=Jn();return Pt={Readability:i,isProbablyReaderable:t},Pt}var ts=es();const{entries:hi,setPrototypeOf:Pr,isFrozen:rs,getPrototypeOf:is,getOwnPropertyDescriptor:ns}=Object;let{freeze:X,seal:Q,create:qt}=Object,{apply:Xt,construct:jt}=typeof Reflect<"u"&&Reflect;X||(X=function(t){return t});Q||(Q=function(t){return t});Xt||(Xt=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return t.apply(e,r)});jt||(jt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new t(...n)});const ct=j(Array.prototype.forEach),ss=j(Array.prototype.lastIndexOf),Or=j(Array.prototype.pop),Ve=j(Array.prototype.push),as=j(Array.prototype.splice),ft=j(String.prototype.toLowerCase),Ot=j(String.prototype.toString),Mt=j(String.prototype.match),Ye=j(String.prototype.replace),ls=j(String.prototype.indexOf),os=j(String.prototype.trim),J=j(Object.prototype.hasOwnProperty),W=j(RegExp.prototype.test),Ze=cs(TypeError);function j(i){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Xt(i,t,n)}}function cs(i){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return jt(i,e)}}function T(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ft;Pr&&Pr(i,null);let n=t.length;for(;n--;){let r=t[n];if(typeof r=="string"){const s=e(r);s!==r&&(rs(t)||(t[n]=s),r=s)}i[r]=!0}return i}function us(i){for(let t=0;t<i.length;t++)J(i,t)||(i[t]=null);return i}function ae(i){const t=qt(null);for(const[e,n]of hi(i))J(i,e)&&(Array.isArray(n)?t[e]=us(n):n&&typeof n=="object"&&n.constructor===Object?t[e]=ae(n):t[e]=n);return t}function Ke(i,t){for(;i!==null;){const n=ns(i,t);if(n){if(n.get)return j(n.get);if(typeof n.value=="function")return j(n.value)}i=is(i)}function e(){return null}return e}const Mr=X(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bt=X(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$t=X(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hs=X(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ht=X(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fs=X(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Br=X(["#text"]),$r=X(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ut=X(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Hr=X(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ut=X(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ps=Q(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gs=Q(/<%[\w\W]*|[\w\W]*%>/gm),ms=Q(/\$\{[\w\W]*/gm),ds=Q(/^data-[\-\w.\u00B7-\uFFFF]+$/),bs=Q(/^aria-[\-\w]+$/),fi=Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_s=Q(/^(?:\w+script|data):/i),Ts=Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pi=Q(/^html$/i),Es=Q(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ur=Object.freeze({__proto__:null,ARIA_ATTR:bs,ATTR_WHITESPACE:Ts,CUSTOM_ELEMENT:Es,DATA_ATTR:ds,DOCTYPE_NAME:pi,ERB_EXPR:gs,IS_ALLOWED_URI:fi,IS_SCRIPT_OR_DATA:_s,MUSTACHE_EXPR:ps,TMPLIT_EXPR:ms});const Qe={element:1,text:3,progressingInstruction:7,comment:8,document:9},ks=function(){return typeof window>"u"?null:window},ys=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Fr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function gi(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ks();const t=d=>gi(d);if(t.version="3.3.1",t.removed=[],!i||!i.document||i.document.nodeType!==Qe.document||!i.Element)return t.isSupported=!1,t;let{document:e}=i;const n=e,r=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:u,NamedNodeMap:h=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:b}=i,_=l.prototype,N=Ke(_,"cloneNode"),Y=Ke(_,"remove"),Z=Ke(_,"nextSibling"),z=Ke(_,"childNodes"),O=Ke(_,"parentNode");if(typeof a=="function"){const d=e.createElement("template");d.content&&d.content.ownerDocument&&(e=d.content.ownerDocument)}let w,B="";const{implementation:H,createNodeIterator:Ee,createDocumentFragment:oe,getElementsByTagName:ke}=e,{importNode:k}=n;let C=Fr();t.isSupported=typeof hi=="function"&&typeof O=="function"&&H&&H.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:E,ERB_EXPR:D,TMPLIT_EXPR:ce,DATA_ATTR:$e,ARIA_ATTR:He,IS_SCRIPT_OR_DATA:Ue,ATTR_WHITESPACE:Re,CUSTOM_ELEMENT:Et}=Ur;let{IS_ALLOWED_URI:Fe}=Ur,A=null;const it=T({},[...Mr,...Bt,...$t,...Ht,...Br]);let I=null;const ye=T({},[...$r,...Ut,...Hr,...ut]);let S=Object.seal(qt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),R=null,ue=null;const he=Object.seal(qt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ze=!0,Le=!0,Ce=!1,Ae=!0,re=!1,xe=!0,fe=!1,De=!1,K=!1,G=!1,ve=!1,pe=!1,ie=!0,Ie=!1;const Ge="user-content-";let kt=!0,We=!1,Pe={},ne=null;const yt=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lr=null;const or=T({},["audio","video","img","source","image","track"]);let At=null;const cr=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",st="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let Oe=ge,xt=!1,vt=null;const bi=T({},[nt,st,ge],Ot);let at=T({},["mi","mo","mn","ms","mtext"]),lt=T({},["annotation-xml"]);const _i=T({},["title","style","font","a","script"]);let qe=null;const Ti=["application/xhtml+xml","text/html"],Ei="text/html";let M=null,Me=null;const ki=e.createElement("form"),ur=function(c){return c instanceof RegExp||c instanceof Function},Nt=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Me&&Me===c)){if((!c||typeof c!="object")&&(c={}),c=ae(c),qe=Ti.indexOf(c.PARSER_MEDIA_TYPE)===-1?Ei:c.PARSER_MEDIA_TYPE,M=qe==="application/xhtml+xml"?Ot:ft,A=J(c,"ALLOWED_TAGS")?T({},c.ALLOWED_TAGS,M):it,I=J(c,"ALLOWED_ATTR")?T({},c.ALLOWED_ATTR,M):ye,vt=J(c,"ALLOWED_NAMESPACES")?T({},c.ALLOWED_NAMESPACES,Ot):bi,At=J(c,"ADD_URI_SAFE_ATTR")?T(ae(cr),c.ADD_URI_SAFE_ATTR,M):cr,lr=J(c,"ADD_DATA_URI_TAGS")?T(ae(or),c.ADD_DATA_URI_TAGS,M):or,ne=J(c,"FORBID_CONTENTS")?T({},c.FORBID_CONTENTS,M):yt,R=J(c,"FORBID_TAGS")?T({},c.FORBID_TAGS,M):ae({}),ue=J(c,"FORBID_ATTR")?T({},c.FORBID_ATTR,M):ae({}),Pe=J(c,"USE_PROFILES")?c.USE_PROFILES:!1,ze=c.ALLOW_ARIA_ATTR!==!1,Le=c.ALLOW_DATA_ATTR!==!1,Ce=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,re=c.SAFE_FOR_TEMPLATES||!1,xe=c.SAFE_FOR_XML!==!1,fe=c.WHOLE_DOCUMENT||!1,G=c.RETURN_DOM||!1,ve=c.RETURN_DOM_FRAGMENT||!1,pe=c.RETURN_TRUSTED_TYPE||!1,K=c.FORCE_BODY||!1,ie=c.SANITIZE_DOM!==!1,Ie=c.SANITIZE_NAMED_PROPS||!1,kt=c.KEEP_CONTENT!==!1,We=c.IN_PLACE||!1,Fe=c.ALLOWED_URI_REGEXP||fi,Oe=c.NAMESPACE||ge,at=c.MATHML_TEXT_INTEGRATION_POINTS||at,lt=c.HTML_INTEGRATION_POINTS||lt,S=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&ur(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(S.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&ur(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(S.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(S.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),re&&(Le=!1),ve&&(G=!0),Pe&&(A=T({},Br),I=[],Pe.html===!0&&(T(A,Mr),T(I,$r)),Pe.svg===!0&&(T(A,Bt),T(I,Ut),T(I,ut)),Pe.svgFilters===!0&&(T(A,$t),T(I,Ut),T(I,ut)),Pe.mathMl===!0&&(T(A,Ht),T(I,Hr),T(I,ut))),c.ADD_TAGS&&(typeof c.ADD_TAGS=="function"?he.tagCheck=c.ADD_TAGS:(A===it&&(A=ae(A)),T(A,c.ADD_TAGS,M))),c.ADD_ATTR&&(typeof c.ADD_ATTR=="function"?he.attributeCheck=c.ADD_ATTR:(I===ye&&(I=ae(I)),T(I,c.ADD_ATTR,M))),c.ADD_URI_SAFE_ATTR&&T(At,c.ADD_URI_SAFE_ATTR,M),c.FORBID_CONTENTS&&(ne===yt&&(ne=ae(ne)),T(ne,c.FORBID_CONTENTS,M)),c.ADD_FORBID_CONTENTS&&(ne===yt&&(ne=ae(ne)),T(ne,c.ADD_FORBID_CONTENTS,M)),kt&&(A["#text"]=!0),fe&&T(A,["html","head","body"]),A.table&&(T(A,["tbody"]),delete R.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ze('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ze('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=c.TRUSTED_TYPES_POLICY,B=w.createHTML("")}else w===void 0&&(w=ys(b,r)),w!==null&&typeof B=="string"&&(B=w.createHTML(""));X&&X(c),Me=c}},hr=T({},[...Bt,...$t,...hs]),fr=T({},[...Ht,...fs]),yi=function(c){let p=O(c);(!p||!p.tagName)&&(p={namespaceURI:Oe,tagName:"template"});const m=ft(c.tagName),L=ft(p.tagName);return vt[c.namespaceURI]?c.namespaceURI===st?p.namespaceURI===ge?m==="svg":p.namespaceURI===nt?m==="svg"&&(L==="annotation-xml"||at[L]):!!hr[m]:c.namespaceURI===nt?p.namespaceURI===ge?m==="math":p.namespaceURI===st?m==="math"&&lt[L]:!!fr[m]:c.namespaceURI===ge?p.namespaceURI===st&&!lt[L]||p.namespaceURI===nt&&!at[L]?!1:!fr[m]&&(_i[m]||!hr[m]):!!(qe==="application/xhtml+xml"&&vt[c.namespaceURI]):!1},se=function(c){Ve(t.removed,{element:c});try{O(c).removeChild(c)}catch{Y(c)}},Ne=function(c,p){try{Ve(t.removed,{attribute:p.getAttributeNode(c),from:p})}catch{Ve(t.removed,{attribute:null,from:p})}if(p.removeAttribute(c),c==="is")if(G||ve)try{se(p)}catch{}else try{p.setAttribute(c,"")}catch{}},pr=function(c){let p=null,m=null;if(K)c="<remove></remove>"+c;else{const P=Mt(c,/^[\r\n\t ]+/);m=P&&P[0]}qe==="application/xhtml+xml"&&Oe===ge&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const L=w?w.createHTML(c):c;if(Oe===ge)try{p=new g().parseFromString(L,qe)}catch{}if(!p||!p.documentElement){p=H.createDocument(Oe,"template",null);try{p.documentElement.innerHTML=xt?B:L}catch{}}const U=p.body||p.documentElement;return c&&m&&U.insertBefore(e.createTextNode(m),U.childNodes[0]||null),Oe===ge?ke.call(p,fe?"html":"body")[0]:fe?p.documentElement:U},gr=function(c){return Ee.call(c.ownerDocument||c,c,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},wt=function(c){return c instanceof f&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof h)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},mr=function(c){return typeof o=="function"&&c instanceof o};function me(d,c,p){ct(d,m=>{m.call(t,c,p,Me)})}const dr=function(c){let p=null;if(me(C.beforeSanitizeElements,c,null),wt(c))return se(c),!0;const m=M(c.nodeName);if(me(C.uponSanitizeElement,c,{tagName:m,allowedTags:A}),xe&&c.hasChildNodes()&&!mr(c.firstElementChild)&&W(/<[/\w!]/g,c.innerHTML)&&W(/<[/\w!]/g,c.textContent)||c.nodeType===Qe.progressingInstruction||xe&&c.nodeType===Qe.comment&&W(/<[/\w]/g,c.data))return se(c),!0;if(!(he.tagCheck instanceof Function&&he.tagCheck(m))&&(!A[m]||R[m])){if(!R[m]&&_r(m)&&(S.tagNameCheck instanceof RegExp&&W(S.tagNameCheck,m)||S.tagNameCheck instanceof Function&&S.tagNameCheck(m)))return!1;if(kt&&!ne[m]){const L=O(c)||c.parentNode,U=z(c)||c.childNodes;if(U&&L){const P=U.length;for(let V=P-1;V>=0;--V){const de=N(U[V],!0);de.__removalCount=(c.__removalCount||0)+1,L.insertBefore(de,Z(c))}}}return se(c),!0}return c instanceof l&&!yi(c)||(m==="noscript"||m==="noembed"||m==="noframes")&&W(/<\/no(script|embed|frames)/i,c.innerHTML)?(se(c),!0):(re&&c.nodeType===Qe.text&&(p=c.textContent,ct([E,D,ce],L=>{p=Ye(p,L," ")}),c.textContent!==p&&(Ve(t.removed,{element:c.cloneNode()}),c.textContent=p)),me(C.afterSanitizeElements,c,null),!1)},br=function(c,p,m){if(ie&&(p==="id"||p==="name")&&(m in e||m in ki))return!1;if(!(Le&&!ue[p]&&W($e,p))){if(!(ze&&W(He,p))){if(!(he.attributeCheck instanceof Function&&he.attributeCheck(p,c))){if(!I[p]||ue[p]){if(!(_r(c)&&(S.tagNameCheck instanceof RegExp&&W(S.tagNameCheck,c)||S.tagNameCheck instanceof Function&&S.tagNameCheck(c))&&(S.attributeNameCheck instanceof RegExp&&W(S.attributeNameCheck,p)||S.attributeNameCheck instanceof Function&&S.attributeNameCheck(p,c))||p==="is"&&S.allowCustomizedBuiltInElements&&(S.tagNameCheck instanceof RegExp&&W(S.tagNameCheck,m)||S.tagNameCheck instanceof Function&&S.tagNameCheck(m))))return!1}else if(!At[p]){if(!W(Fe,Ye(m,Re,""))){if(!((p==="src"||p==="xlink:href"||p==="href")&&c!=="script"&&ls(m,"data:")===0&&lr[c])){if(!(Ce&&!W(Ue,Ye(m,Re,"")))){if(m)return!1}}}}}}}return!0},_r=function(c){return c!=="annotation-xml"&&Mt(c,Et)},Tr=function(c){me(C.beforeSanitizeAttributes,c,null);const{attributes:p}=c;if(!p||wt(c))return;const m={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I,forceKeepAttr:void 0};let L=p.length;for(;L--;){const U=p[L],{name:P,namespaceURI:V,value:de}=U,Be=M(P),St=de;let $=P==="value"?St:os(St);if(m.attrName=Be,m.attrValue=$,m.keepAttr=!0,m.forceKeepAttr=void 0,me(C.uponSanitizeAttribute,c,m),$=m.attrValue,Ie&&(Be==="id"||Be==="name")&&(Ne(P,c),$=Ge+$),xe&&W(/((--!?|])>)|<\/(style|title|textarea)/i,$)){Ne(P,c);continue}if(Be==="attributename"&&Mt($,"href")){Ne(P,c);continue}if(m.forceKeepAttr)continue;if(!m.keepAttr){Ne(P,c);continue}if(!Ae&&W(/\/>/i,$)){Ne(P,c);continue}re&&ct([E,D,ce],kr=>{$=Ye($,kr," ")});const Er=M(c.nodeName);if(!br(Er,Be,$)){Ne(P,c);continue}if(w&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!V)switch(b.getAttributeType(Er,Be)){case"TrustedHTML":{$=w.createHTML($);break}case"TrustedScriptURL":{$=w.createScriptURL($);break}}if($!==St)try{V?c.setAttributeNS(V,P,$):c.setAttribute(P,$),wt(c)?se(c):Or(t.removed)}catch{Ne(P,c)}}me(C.afterSanitizeAttributes,c,null)},Ai=function d(c){let p=null;const m=gr(c);for(me(C.beforeSanitizeShadowDOM,c,null);p=m.nextNode();)me(C.uponSanitizeShadowNode,p,null),dr(p),Tr(p),p.content instanceof s&&d(p.content);me(C.afterSanitizeShadowDOM,c,null)};return t.sanitize=function(d){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=null,m=null,L=null,U=null;if(xt=!d,xt&&(d="<!-->"),typeof d!="string"&&!mr(d))if(typeof d.toString=="function"){if(d=d.toString(),typeof d!="string")throw Ze("dirty is not a string, aborting")}else throw Ze("toString is not a function");if(!t.isSupported)return d;if(De||Nt(c),t.removed=[],typeof d=="string"&&(We=!1),We){if(d.nodeName){const de=M(d.nodeName);if(!A[de]||R[de])throw Ze("root node is forbidden and cannot be sanitized in-place")}}else if(d instanceof o)p=pr("<!---->"),m=p.ownerDocument.importNode(d,!0),m.nodeType===Qe.element&&m.nodeName==="BODY"||m.nodeName==="HTML"?p=m:p.appendChild(m);else{if(!G&&!re&&!fe&&d.indexOf("<")===-1)return w&&pe?w.createHTML(d):d;if(p=pr(d),!p)return G?null:pe?B:""}p&&K&&se(p.firstChild);const P=gr(We?d:p);for(;L=P.nextNode();)dr(L),Tr(L),L.content instanceof s&&Ai(L.content);if(We)return d;if(G){if(ve)for(U=oe.call(p.ownerDocument);p.firstChild;)U.appendChild(p.firstChild);else U=p;return(I.shadowroot||I.shadowrootmode)&&(U=k.call(n,U,!0)),U}let V=fe?p.outerHTML:p.innerHTML;return fe&&A["!doctype"]&&p.ownerDocument&&p.ownerDocument.doctype&&p.ownerDocument.doctype.name&&W(pi,p.ownerDocument.doctype.name)&&(V="<!DOCTYPE "+p.ownerDocument.doctype.name+`>
`+V),re&&ct([E,D,ce],de=>{V=Ye(V,de," ")}),w&&pe?w.createHTML(V):V},t.setConfig=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Nt(d),De=!0},t.clearConfig=function(){Me=null,De=!1},t.isValidAttribute=function(d,c,p){Me||Nt({});const m=M(d),L=M(c);return br(m,L,p)},t.addHook=function(d,c){typeof c=="function"&&Ve(C[d],c)},t.removeHook=function(d,c){if(c!==void 0){const p=ss(C[d],c);return p===-1?void 0:as(C[d],p,1)[0]}return Or(C[d])},t.removeHooks=function(d){C[d]=[]},t.removeAllHooks=function(){C=Fr()},t}var As=gi();const xs=new gn,vs=new Kn;function Ns(i){return xs.convert(i).content}function ws(i){return vs.convert(i).content}const Ss=100;function Rs(i){try{const n=new DOMParser().parseFromString(i,"text/html").cloneNode(!0),s=new ts.Readability(n,{charThreshold:500,keepClasses:!1}).parse();return!s||!s.content||s.content.length<Ss?null:{title:s.title||"",content:As.sanitize(s.content),textContent:s.textContent||void 0,excerpt:s.excerpt||void 0,byline:s.byline||void 0,siteName:s.siteName||void 0,publishedTime:s.publishedTime||void 0}}catch{return null}}const _e=document.getElementById("html-pane"),tt=document.getElementById("md-pane"),mi=document.getElementById("extract-content"),Ls=document.querySelectorAll(".copy-btn");let le=!1;function di(i,t){let e;return((...n)=>{clearTimeout(e),e=setTimeout(()=>i(...n),t)})}function ar(){if(le)return;const i=_e.value.trim();if(!i){le=!0,tt.value="",le=!1;return}try{le=!0;let t=i;if(mi.checked){const n=Rs(i);n&&n.content&&(t=n.content)}const e=Ns(t);tt.value=e}catch(t){const e=t instanceof Error?t.message:"Conversion error";tt.value=`Error: ${e}`}finally{le=!1}}function Cs(){if(le)return;const i=tt.value.trim();if(!i){le=!0,_e.value="",le=!1;return}try{le=!0;const t=ws(i);_e.value=t}catch(t){const e=t instanceof Error?t.message:"Conversion error";_e.value=`Error: ${e}`}finally{le=!1}}const Ds=di(ar,300),Is=di(Cs,300);function Ps(i){const t=i.clipboardData;if(!t)return;const e=t.getData("text/html");e&&e.trim()&&(i.preventDefault(),_e.value=e,ar())}async function Os(i){const t=i.currentTarget,e=t.dataset.target;if(!e)return;const n=document.getElementById(e),r=n.value;if(r)try{await navigator.clipboard.writeText(r),zr(t)}catch{n.select(),document.execCommand("copy"),zr(t)}}function zr(i){const t=i.textContent;i.textContent="Copied!",i.disabled=!0,setTimeout(()=>{i.textContent=t,i.disabled=!1},1500)}_e.addEventListener("input",Ds);_e.addEventListener("paste",Ps);tt.addEventListener("input",Is);Ls.forEach(i=>{i.addEventListener("click",Os)});mi.addEventListener("change",()=>{_e.value.trim()&&ar()});
